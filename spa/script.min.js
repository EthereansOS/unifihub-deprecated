"use strict";function _typeof(e){return e&&typeof Symbol!="undefined"&&e.constructor===Symbol?"symbol":typeof e}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,s){try{var o=t[i](s),u=o.value}catch(a){n(a);return}if(!o.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}!window.preloadedScripts && (window.preloadedScripts=[]);Array.prototype.push.apply(window.preloadedScripts,['spa/banner.jsx','spa/dappMenu/controller.jsx','spa/dappMenu/style.min.css','spa/dappMenu/view.jsx','spa/ethereumWalletProvider/controller.jsx','spa/ethereumWalletProvider/style.min.css','spa/ethereumWalletProvider/view.jsx','spa/explainer/controller.jsx','spa/explainer/style.min.css','spa/explainer/view.jsx','spa/grimoire/controller.jsx','spa/grimoire/grimBazar.jsx','spa/grimoire/grimUnifi.jsx','spa/grimoire/grimuSD.jsx','spa/grimoire/style.min.css','spa/grimoire/view.jsx','spa/index/controller.jsx','spa/index/style.min.css','spa/index/view.jsx','spa/loader.jsx','spa/stableCoin/controller.jsx','spa/stableCoin/style.min.css','spa/stableCoin/view.jsx','spa/swapBazar/controller.jsx','spa/swapBazar/style.min.css','spa/swapBazar/uniswapTokenPicker.jsx','spa/swapBazar/view.jsx']);var Banner=React.createClass({displayName:"Banner",render:function(){return React.createElement("section",{className:"welcomeBanner"},React.createElement("h1",null,"Welcome to UniFi"),React.createElement("a",null,React.createElement("b",null,"Continue")," as a Mage üßô‚Äç‚ôÇÔ∏è"),React.createElement("a",null,React.createElement("b",null,"Continue")," as an Etherean Hacker üë©‚Äçüíª"),React.createElement("a",null,React.createElement("b",null,"Continue,")," ",React.createElement("span",null,"but not interested in this millennials things")),React.createElement("p",null,React.createElement("b",null,"Use it at your own risk!")," This is an R&D project in it's early stage [Beta 0.5]. Before to use UniFi related functions be sure to read the documentation and Smart Contracts code. All of the Functions of UniFi work on top of Uniswap, Before use them be sure to read how the Uniswap protocol works: ",React.createElement("a",{href:"https://docs.ethhub.io/guides/graphical-guide-for-understanding-uniswap/",target:"_Blank"},"Ethhub Uniswap Guide")," | ",React.createElement("a",{href:"https://uniswap.org/docs/v2/advanced-topics/understanding-returns/",target:"_Blank"},"Uniswap Returns Guide")," | ",React.createElement("a",{href:"https://medium.com/@pintail/understanding-uniswap-returns-cc593f3499ef",target:"_Blank"},"Advanced Uniswap Guide")))}});var DappMenuController=function(t){var n=this;n.view=t};var DappMenu=React.createClass({displayName:"DappMenu",requiredModules:["spa/ethereumWalletProvider"],requiredScripts:["assets/plugins/ethereumProviders/ethereumProviders.js"],getDefaultSubscriptions:function(){var t=this;return{"ethereum/ping":function(){return t.forceUpdate()},"toggle/connect":function(n){return t.setState({connect:n})}}},getInitialState:function(){return{menuItems:[{title:"Stable Coin",icon:"m4"},{title:"Swap Bazar",icon:"m1"},{title:"Grimoire",icon:"m0"}]}},renderMenuItem:function(t,n){var r=this;return t.id=t.id||"id"+(n+1),t.props=t.props||{},t.props.id=t.props.id||t.id,!t.props.href&&(t.props.onClick=t.props.onClick||function(){return r.emit("section/change",t.sectionName||t.title.split(" ").join("").firstLetterToLowerCase())}),t.props.href=t.props.href||"javascript:;",t.className=t.className||"M"+t.title.split(" ").join(""),React.createElement("li",{key:t.id,className:t.className},React.createElement("a",t.props,[React.createElement("img",{src:window.resolveImageURL(t.icon)}),React.createElement("span",null,t.title)]),React.createElement("span",{className:"menuArrow"},React.createElement("img",{src:window.resolveImageURL(t.arrowkey||"mk")})))},toggle:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this,r=t.currentTarget,i=function s(e){var t={};t[e]=!n.state||!n.state[e],n[e]&&delete n[e].onblur,n.setState(t,function(){n.state[e]&&n[e]&&(n[e].onblur=n[e].onblur||function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),t.relatedTarget&&t.relatedTarget!==r&&t.relatedTarget.click(),t.relatedTarget!==r&&s(e)})&&n[e].focus()})};i(t.currentTarget.dataset.type)},toggleBoomerMode:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.emit("visual/mode/toggle")},render:function(){var t=this;return React.createElement("section",{className:"MenuAll"},React.createElement("a",{className:"BoomerModeToggler",href:"javascript:;",onClick:this.toggleBoomerMode,ref:function(t){return t&&(t.innerHTML="&#"+(window.localStorage.boomerMode==="true"?"128188":"10024")+";")}}),React.createElement("a",{className:"maghetto",href:""},React.createElement("img",{src:"assets/img/maghetto.png"})),React.createElement("a",{href:"javascript:;",onClick:this.toggle,"data-type":"menu",className:"menuOpener"},"Menu"),!window.walletAddress&&React.createElement("a",{href:"javascript:;",onClick:this.toggle,"data-type":"connect",className:"connectOpener"},React.createElement("img",{src:"assets/img/m6.png"}),React.createElement("span",null,"Connect")),window.walletAddress&&React.createElement("a",{href:window.getNetworkElement("etherscanURL")+"address/"+window.walletAddress,target:"_blank",className:"connectOpener"},React.createElement("img",{src:window.makeBlockie(window.walletAddress)}),React.createElement("span",null,window.shortenWord(window.walletAddress,12))),React.createElement("section",{className:"MenuOpen",style:{display:this.props.show?"inline-block":this.state&&this.state.menu?"inline-block":"none"}},React.createElement("section",{ref:function(n){return t.menu=n},className:"coverMenu",tabIndex:"-1"},this.state.menuItems.map(this.renderMenuItem))),!window.walletAddress&&this.state&&this.state.connect&&React.createElement("section",{ref:function(n){return t.connect=n},tabIndex:"-1",className:"coverConnectMenu"},React.createElement(EthereumWalletProvider,{className:"coverMenu"})))}});var EthereumWalletProviderController=function(t){var n=this;n.view=t};var EthereumWalletProvider=React.createClass({displayName:"EthereumWalletProvider",requiredScripts:["assets/plugins/ethereumProviders/ethereumProviders.js"],changeWallet:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=parseInt(t.currentTarget.dataset.index),r=this;window.EthereumProviders.activate(this.state.wallets[n]).then(function(e){if(e)return alert(e);r.setState({selected:n})})},componentDidMount:function(){window.EthereumProviders&&this.setState({wallets:window.EthereumProviders.list,selected:parseInt(window.localStorage.selectedEthereumProvider)})},render:function(){var t=this;return React.createElement("section",{className:this.props.className},React.createElement("section",null,this.state&&this.state.wallets.map(function(e,n){return!e.disabled&&React.createElement("li",{key:e.name},React.createElement("section",null,t.state.selected===n&&React.createElement("img",{src:window.resolveImageURL("mk")}),React.createElement("a",{href:"javascript:;","data-index":n,onClick:t.changeWallet},e.name)))})))}});var ExplainerController=function(t){var n=this;n.view=t};var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Explainer=React.createClass({displayName:"Explainer",renderExStableCoin:function(){var t=this;return this.renderInput("ExStableCoin","","a","InfoButton","a","dappButton","More","Launch Dapp","A Stable Coin to Pool Them All","Unified Stable Dollar (uSD) is a new stablecoin minted by the magic rainbow of Uniswap stablecoin pools. Backed by the power of the Unicorn, uSD is the most secure stablecoin ever. The only way it could be destabilized is if the entire stablecoin industry crashed.",function(){return t.emit("section/change","grimoire",{href:"#grimuSD"})},function(){return t.emit("section/change","stableCoin")})},renderExDex:function(){var t=this;return this.renderInput("ExDex","","a","InfoButton","a","dappButton","More","Launch Dapp","Swap More Than Just Tokens","Ancient black magic is unleashing the true power of the Unicorn. Programmable Equities, Token Indexes and NFTs (including ERC 1155 NFTs, thanks to ethArt V2) can now be swapped, on the new Bazaar DEX.",function(){return t.emit("section/change","grimoire",{href:"#grimBaz"})},function(){return t.emit("section/change","swapBazar")})},renderExGrimoire:function(){var t=this;return this.renderInput("ExGrimoire","","a","readButton","a","gitButton","Read","Github","Unicorn Magic For Dummies","The Official guide for using Unicorn magic with the DeFi on the top of Uniswap. Grimoire, the best selling book of 2020, is prescribed by all the top wizard Universities, and won this years' Booker Prize.",function(){return t.emit("section/change","Grimoire")},"https://github.com/b-u-i-d-l/unifi")},renderInput:function(t,n,r,i,s,o,u,a,f,l,c,h){return React.createElement("section",{className:t+" feature"},React.createElement("section",{className:"cardinfo"},React.createElement("article",{className:"featureDescription"},React.createElement("h3",null,f),React.createElement("p",null,l),React.createElement("aside",{className:"featureActions"},React.createElement("a",{href:(typeof c=="undefined"?"undefined":_typeof(c)).toLowerCase()==="string"?c:"javascript:;",target:(typeof c=="undefined"?"undefined":_typeof(c)).toLowerCase()==="string"?"_blank":undefined,onClick:(typeof c=="undefined"?"undefined":_typeof(c)).toLowerCase()==="string"?undefined:c,className:i+" FancyButton"},u),React.createElement("a",{href:(typeof h=="undefined"?"undefined":_typeof(h)).toLowerCase()==="string"?h:"javascript:;",target:(typeof h=="undefined"?"undefined":_typeof(h)).toLowerCase()==="string"?"_blank":undefined,onClick:(typeof h=="undefined"?"undefined":_typeof(h)).toLowerCase()==="string"?undefined:h,className:o+" FancyButton"},a)))))},openStableCoin:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.emit("section/change","stableCoin",{oldStableCoin:!0})},render:function(){return React.createElement("section",{className:"unifiWelcome"},React.createElement("header",null,React.createElement("h2",null,"Decentralized Finance on top of Uniswap, doing fantastic things¬†securely")),React.createElement(DappMenu,{show:!0}),this.renderExStableCoin(),this.renderExDex(),this.renderExGrimoire(),React.createElement("footer",null,React.createElement("section",null,React.createElement("section",{className:"welcomeLinks"},React.createElement("a",{target:"_blank",href:"https://dapp.dfohub.com/?addr=0xbC8E0616A61137E1905adb858963f781934A44eD"},"DFO Info"),React.createElement("a",{target:"_blank",href:"https://uniswap.info/token/0x9E78b8274e1D6a76a0dBbf90418894DF27cBCEb5"},"Uniswap"),React.createElement("a",{target:"_blank",href:"https://defipulse.io"},"DeFi Pulse"),React.createElement("a",{target:"_blank",href:"javascript:;",onClick:this.openStableCoin},"Redeem from the old StableCoin")),React.createElement("p",null,React.createElement("b",null,"Use at your own risk!")," This is an R&D project in its early stage [Beta]. Before using Cell related functions, be sure to read the documentation and Smart Contracts code. All of the functions of Cell work on top of Uniswap, so be sure about how Uniswap DeFi protocol works too: ",React.createElement("a",{href:"https://docs.ethhub.io/guides/graphical-guide-for-understanding-uniswap/",target:"_Blank"},"Ethhub Uniswap Guide")," | ",React.createElement("a",{href:"https://uniswap.org/docs/v2/advanced-topics/understanding-returns/",target:"_Blank"},"Uniswap Returns Guide")," | ",React.createElement("a",{href:"https://medium.com/@pintail/understanding-uniswap-returns-cc593f3499ef",target:"_Blank"},"Advanced Uniswap Guide")))))}});var GrimoireController=function(t){var n=this;n.view=t};var GrimBazar=React.createClass({displayName:"GrimBazar",requiredScripts:["spa/loader.jsx"],render:function(){return React.createElement("section",null,React.createElement("section",{className:"grimoireWelcome"},React.createElement("section",{className:"grimoireWelcomeIntern"},React.createElement("img",{src:"assets/img/m1.png"}),React.createElement("article",{id:"grimBaz"},React.createElement("h2",null,"The Grimoire - The Bazar"),React.createElement("h6",null,React.createElement("b",null,"Ancient black magic is unleashing the true power of the Unicorn.")," Programmable Equities, Token Indexes and NFTs (including ERC 1155 NFTs, thanks to ethArt V2) can now be swapped, on the new Bazaar DEX.")))),React.createElement("section",{className:"grimoireBoxAll"},React.createElement("section",{className:"grimoireBox"},React.createElement("ul",{className:"grimoireIndex"},React.createElement("h2",null,"Index"),React.createElement("a",{href:"#Bazbasics"},React.createElement("b",null,"Basics")),React.createElement("a",{href:"#Bazlisting"},React.createElement("b",null,"Listing"))),React.createElement("article",{className:"grimoireArticle",id:"Bazbasics"},React.createElement("h2",null,"Basics"),React.createElement("p",null,"The Cell Bazar unleashes the true potential of Decentralized Finance on top of Uniswap, by enabling Ethereans to trade Index Funds, Programmable Equities and NFTs more easily than ever before.")),React.createElement("article",{className:"grimoireArticle",id:"Bazlisting"},React.createElement("h2",null,"Listing"),React.createElement("h4",null,"Index Funds "),React.createElement("p",null,"Previously, any ERC20 Uniswap V2 pool token could be traded on Uniswap. But Index Funds‚Äîbacked by multiple ERC20 tokens‚Äîcould not. Until now."),React.createElement("h6",null,"On the Bazar, Ethereans can freely swap and track crypto Index Funds."),React.createElement("h4",null,"Programmable Equities"),React.createElement("p",null,"Programmable equities are a new asset class in crypto. They are the ERC20 voting tokens of Decentralized Flexible Organizations (DFOs). Holders have 100% ownership of the protocol; there is no opportunity for external manipulation."),React.createElement("h6",null,"On the Bazar, all programmable equities can be listed and traded on Uniswap."),React.createElement("h4",null,"Non-Fungible Tokens (NFTs)"),React.createElement("p",null,"ERC1155 NFTs are tokens with metadata, but at the same time have a supply. The reason they haven‚Äôt been tradable in AMMs before is due to their ‚Äòtransfer‚Äô function. They use the ‚ÄòSafeTransferFrom‚Äô method, instead of the ERC20 methods, ‚ÄòTransfer‚Äô and ‚ÄòTransferFrom.‚Äô Also, they don‚Äôt have decimals; they‚Äôre transferred using ID and Amount."),React.createElement("p",null,"ethArt V2 will be released in November, and the Bazar will be able to synthesize ERC1155 tokens with an ERC20 (√† la WETH with ETH) in the background, fundamentally reshaping the NFT market by allowing Ethereans to trade ERC1155 tokens for the first time."),React.createElement("h4",null,"Swappable ERC 1155 release"),React.createElement("p",null,"The release of ethArt V2 and swappable NFTs is scheduled for late November using ",React.createElement("a",{target:"_blank",href:"https://www.ethart.org"},"ethArt V2"))))))}});var GrimUnifi=React.createClass({displayName:"GrimUnifi",requiredScripts:["spa/loader.jsx"],render:function(){return React.createElement("section",null,React.createElement("section",{className:"grimoireWelcome"},React.createElement("section",{className:"grimoireWelcomeIntern"},React.createElement("img",{src:"assets/img/maghetto.png"}),React.createElement("article",{id:"grimUniFi"},React.createElement("h2",null,"The Grimoire - Decentralized Finance on top of Uniswap and the Cell token"),React.createElement("h6",null,"CellFinance is a new Decentralized Flexible Organization (DFO) that researches and develops a responsible Decentralized Finance layer on top of Uniswap.")))),React.createElement("section",{className:"grimoireBoxAll"},React.createElement("section",{className:"grimoireBox"},React.createElement("article",{className:"grimoireArticle",id:"Unifibasics"},React.createElement("h2",null,"Basics"),React.createElement("p",null,"CellFinance is a new Decentralized Flexible Organization (DFO) that researches and develops a responsible Decentralized Finance layer on top of Uniswap. Thanks to the DFOhub standard, CellFinance dApps are entirely independent from any off-chain entity. The $Cell voting token is a programmable equity of the Cell DFO; $Cell holders hold real equity of the protocol, and rule every part of its code and assets. More info here: ",React.createElement("a",{target:"_blank",href:"https://dfohub.com"}," dfohub.com"))),React.createElement("article",{className:"grimoireArticle",id:"UnifiERN"},React.createElement("h2",null,"CellFinance Earning System"),React.createElement("p",null,"The Cell DFO earn from:"),React.createElement("ol",null,React.createElement("li",null,"- The uSD positive rebalance (the trading fees of Uniswap collateralized stablecoins)"),React.createElement("li",null,"- The 0.1% in Uniswap Pool Tokens taxed by crafting Programmable Liquidity")),React.createElement("p",null,"As an on-chain company, Cell's value will be backed by these earnings, and by the core of Flexible Organizations, totally ruled in code and assets by tokens, without any chance of external manipulation.",React.createElement("a",{target:"_blank",href:"https://dfohub.com"}))))))}});var GrimuSD=React.createClass({displayName:"GrimuSD",requiredScripts:["spa/loader.jsx"],render:function(){return React.createElement("section",null,React.createElement("section",{className:"grimoireWelcome"},React.createElement("section",{className:"grimoireWelcomeIntern"},React.createElement("img",{src:"assets/img/m4.png"}),React.createElement("article",{id:"grimuSD"},React.createElement("h2",null,"The Grimoire - Unified Stable Dollar"),React.createElement("h6",null,React.createElement("b",null,"uSD is a Stable Coin based on Uniswap Liquidity Pools")," Minted by the magic rainbow of Uniswap stablecoin pools. Backed by the power of the Unicorn, uSD is the most secure stablecoin ever. The only way it could be destabilized is if the entire stablecoin industry crashed. | ",React.createElement("a",{href:window.getNetworkElement("etherscanURL")+"token/"+window.getNetworkElement("stableCoinAddress"),target:"_blank"},"Etherscan")," ",React.createElement("a",{target:"_blank",href:"https://uniswap.info/token/"+window.getNetworkElement("stableCoinAddress")},"Uniswap"))))),React.createElement("section",{className:"grimoireBoxAll"},React.createElement("section",{className:"grimoireBox"},React.createElement("ul",{className:"grimoireIndex"},React.createElement("h2",null,"Index"),React.createElement("a",{href:"#uSDbasics"},React.createElement("b",null,"Basics")),React.createElement("a",{href:"#uSDrebalancing"},React.createElement("b",null,"Rebalancing")),React.createElement("a",{href:"#uSDsec"},React.createElement("b",null,"Security and Emergency Strategies")),React.createElement("a",{href:"#uSDres"},React.createElement("b",null,"Resilience, Decentralization and independency")),React.createElement("a",{href:"#uSDallow"},React.createElement("b",null,"Allowed Stable Coins")),React.createElement("a",{href:"#uSDapi"},React.createElement("b",null,"APIs and Documentation")),React.createElement("a",{href:"#uSDarchi"},React.createElement("b",null,"Responsible DeFi Architecture"))),React.createElement("article",{className:"grimoireArticle",id:"uSDbasics"},React.createElement("h2",null,"Basics"),React.createElement("p",null,"The aim of the Unified Stable Dollar (uSD) protocol is to build the most secure and resilient stablecoin on Ethereum‚Äîever. Independent from any off-chain issuer, it is fortified against the risks inherent to all other stablecoins, and free of the anxiety that pervades the industry."),React.createElement("p",null,"uSD achieves this unprecedented level of stability by collateralizing other stablecoins. If any of them lose value or fail, it can simply rebalance itself to leverage the security of the others. And to account for excess due to fees in their pools, it can rebalance itself in another way."),React.createElement("h4",null,"The only way uSD can be destabilized is if the entire stablecoin industry collapses."),React.createElement("h6",null,"uSD is backed by Uniswap‚Äôs (whitelisted) stablecoin liquidity pools."),React.createElement("h6",null,"Anyone can mint it by adding these stablecoins to those pools."),React.createElement("h4",null,"Example:"),React.createElement("p",null,"Mint 2x uSD by adding 1x Stablecoin A and 1x Stablecoin B"),React.createElement("h6",null,"And by burning uSD, anyone can receive these stablecoins from those pools."),React.createElement("h4",null,"Example:"),React.createElement("p",null,"Burn 2x uSD and receive 1x Stablecoin A and 1x Stablecoin C")),React.createElement("article",{className:"grimoireArticle",id:"uSDrebalancing"},React.createElement("h2",null,"Rebalancing"),React.createElement("h6",null,"Sometimes, collateralization is not enough, and uSD must rebalance in one of two ways."),React.createElement("h4",null,"DFO Debit"),React.createElement("p",null,"When a stablecoin loses value, the Uniswap Tier pools rebalance to an uneven disparity (‚â† 50/50). If the stablecoin totally fails, the other stablecoins effectively pump in correlation."),React.createElement("p",null,"DFO Debit resolves this issue on-chain by rebalancing uSD, creating debt which the Cell DFO then pays off by minting Cell. Let‚Äôs look at how this plays out, step by step:"),React.createElement("ol",null,React.createElement("li",null,"1 - A  stablecoin collateralized by uSD loses value or fails altogether."),React.createElement("li",null,"2 - $Cell holders vote to remove the tiers containing the failed stablecoin from the whitelist."),React.createElement("li",null,"The uSD supply becomes grater than the supply of the collateralized pooled stablecoins."),React.createElement("li",null,"3 - To restore 1:1 equilibrium, anyone holding uSD can burn it to receive new Cell, minted at a 20% discount of the uSD/UniFi Uniswap pool mid-price ratio.")),React.createElement("h6",null,"The goal of $Cell holders, which aligns with their self-interest, is to ensure uSD‚Äôs security. Thus there is an economic disincentive to whitelist insecure stablecoins."),React.createElement("h4",null,"DFO Credit"),React.createElement("p",null,"As established, uSD is backed by Uniswap pool liquidity. This raises an issue; Uniswap pools earn 0.3% of trading fees. This could destabilize uSD by creating an excess of collateralized stablecoins in the pools. "),React.createElement("p",null,"DFO Credit, the second rebalancing function of the Cell DFO, resolves this by removing that excess from the pools and sending it in the DFO wallet managed by $Cell holders."),React.createElement("p",null,"This is a long term economic incentive for the Cell DFO to grow and invest credit in R&D.")),React.createElement("article",{className:"grimoireArticle",id:"uSDsec"},React.createElement("h2",null,"Security and Emergency Strategies"),React.createElement("h4",null,"The Cell has a number of measures in place to ensure its security."),React.createElement("p",null,"1 - uSD pool collateral is locked. Stored in an external smart contract, it can‚Äôt be touched even by the Cell DFO, precluding voter fraud by bad actors."),React.createElement("p",null,"2 - In the case of any bug or update, $Cell holders can vote to pause the uSD smart contract. This prevents minting of new uSD or rebalancing of uSD, but holders will still be able to redeem it for the pooled stable coins, and thus revoke the collateral."),React.createElement("p",null,"3 - Even if the uSD protocol fails, and even if the Cell DFO votes to update uSD to an undesirable new version, uSD holders will still be able to interact with the old smart contract‚Äîuntil all collateral is revoked‚Äîas well as the new one.")),React.createElement("article",{className:"grimoireArticle",id:"uSDres"},React.createElement("h2",null,"Resilience, Decentralization and independency"),React.createElement("p",null,"uSD is the most resilient, secure and stable stablecoin in the industry. By taking advantage of Decentralized Finance on the top of Uniswap, a security layer with a decentralized core, it frees holders from dependence on censorship or centralized manipulation by states and stablecoin issuers. It resolves all risks that come with trusting the big stablecoin companies, like MakerDAO, Coinbase, Tether etc."),React.createElement("p",null,"uSD is backed by a Decentralized Flexible Organization. $Cell holders on the Ethereum network have 100% control of the code and Credit/Debit of the protocol. Nobody can stop or censor the Cell-uSD protocol; for the first time, the Ethereum network doesn‚Äôt have to choose between stability and independence in a stablecoin; it can have both.")),React.createElement("article",{className:"grimoireArticle",id:"uSDallow"},React.createElement("h2",null,"Allowed Stable Coins"),React.createElement("p",null,"The Allowed Stable Coin to Mint and Burn uSD are:"),React.createElement("ol",null,React.createElement("li",null,React.createElement("b",null,"DAI")," ",React.createElement("a",{targer:"_blank",href:"https://etherscan.io/token/0x6b175474e89094c44da98b954eedeac495271d0f"},"0x6b175474e89094c44da98b954eedeac495271d0f")),React.createElement("li",null,React.createElement("b",null,"USDC")," ",React.createElement("a",{targer:"_blank",href:"https://etherscan.io/token/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"},"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48")),React.createElement("li",null,React.createElement("b",null,"GSDC")," ",React.createElement("a",{targer:"_blank",href:"https://etherscan.io/token/0x056fd409e1d7a124bd7017459dfea2f387b6d5cd"},"0x056fd409e1d7a124bd7017459dfea2f387b6d5cd")),React.createElement("li",null,React.createElement("b",null,"BUSD")," ",React.createElement("a",{targer:"_blank",href:"https://etherscan.io/token/0x4fabb145d64652a948d72533023f6e7a623c7c53"},"0x4fabb145d64652a948d72533023f6e7a623c7c53")),React.createElement("li",null,React.createElement("b",null,"TUSD")," ",React.createElement("a",{targer:"_blank",href:"https://etherscan.io/token/0x0000000000085d4780b73119b644ae5ecd22b376"},"0x0000000000085d4780b73119b644ae5ecd22b376")),React.createElement("li",null,React.createElement("b",null,"PAX")," ",React.createElement("a",{targer:"_blank",href:"https://etherscan.io/token/0x8e870d67f660d95d5be530380d0ec0bd388289e1"},"0x8e870d67f660d95d5be530380d0ec0bd388289e1")))),React.createElement("article",{className:"grimoireArticle",id:"uSDarchi"},React.createElement("h2",null,"Responsible DeFi Limits"),React.createElement("p",null,"Due to a ",React.createElement("a",{target:"_blank",href:"https://github.com/b-u-i-d-l/responsible-defi"},"Responible DeFi Approach"),", Cell uSD is limited in its early stage to mint by:"),React.createElement("ol",null,React.createElement("li",null,"- 500,000 uSD Mintable for the first month (untill block n ",React.createElement("a",{target:"_blank",href:"https://etherscan.io/block/countdown/10941929"},"10941929"),")"),React.createElement("li",null,"- 2,000,000 uSD Mintable for the first two months (untill block n ",React.createElement("a",{target:"_blank",href:"https://etherscan.io/block/countdown/11141929"},"11141929"),")"),React.createElement("li",null,"- 5,000,000 uSD Mintable for the first three months (untill block n ",React.createElement("a",{target:"_blank",href:"https://etherscan.io/block/countdown/11341929"},"11341929"),")"),React.createElement("li",null,"- 10,000,000 uSD Mintable for the first four months (untill block n ",React.createElement("a",{target:"_blank",href:"https://etherscan.io/block/countdown/11541929"},"11541929"),")"),React.createElement("li",null,"- 20,000,000 uSD Mintable for the first five months (untill block n ",React.createElement("a",{target:"_blank",href:"https://etherscan.io/block/countdown/11741929"},"11741929"),")"))))))}});var Grimoire=React.createClass({displayName:"Grimoire",requiredScripts:["spa/loader.jsx","spa/grimoire/grimuSD.jsx","spa/grimoire/grimBazar.jsx","spa/grimoire/grimUnifi.jsx"],getDefaultSubscriptions:function(){var t=this;return{"ethereum/update":function(){return t.forceUpdate()}}},componentDidMount:function(){if(!this.props.href)return;var t=this.props.href;setTimeout(function(){var e=window.location.protocol;e+="//",e+=window.location.hostname,window.location.port&&(e+=":"+window.location.port),e+="/",e+=t,window.location.href=e},200)},render:function(){return React.createElement("section",{className:"unifiDapp"},React.createElement(DappMenu,null),React.createElement("section",{className:"grimoireWelcome"},React.createElement("section",{className:"grimoireWelcomeIntern"},React.createElement("img",{src:"assets/img/m0.png"}),React.createElement("article",null,React.createElement("h2",null,"The Grimoire"),React.createElement("h6",null,React.createElement("b",null,"Ancient black magic is unleashing the true power of the Unicorn.")," Programmable Equities, Token Indexes and NFTs (including ERC 1155 NFTs, thanks to ethArt V2) can now be swapped, on the new Bazaar DEX.")))),React.createElement("section",{className:"grimoireBoxAll"},React.createElement("section",{className:"grimoireBox"},React.createElement("ul",{className:"grimoireIndex"},React.createElement("h2",null,"Index"),React.createElement("a",{href:"#grimuSD"},React.createElement("img",{src:"assets/img/m4.png"}),React.createElement("b",null,"Stable Coin:")," Unified Stable Dollar"),React.createElement("a",{href:"#grimBaz"},React.createElement("img",{src:"assets/img/m1.png"}),React.createElement("b",null,"Bazaar:")," Advanced Listing on top of Uniswap"),React.createElement("a",{href:"#grimUniFi"},React.createElement("img",{src:"assets/img/maghetto.png"}),React.createElement("b",null,"Cell DFO:"))))),React.createElement(GrimuSD,null),React.createElement(GrimBazar,null),React.createElement(GrimUnifi,null))}});var IndexController=function(t){var n=this;n.view=t,n.onSection=function(){var t=window.consumeAddressBarParam("section");window.location.hostname.indexOf(window.context.domainData.name)!==-1&&(t=window.location.hostname.split(".")[0],t=window.context.domainData.sections[t]),t&&n.view.sectionChange(t)}};var Index=React.createClass({displayName:"Index",requiredScripts:["spa/loader.jsx"],requiredModules:["spa/explainer","spa/dappMenu"],getCustomLoader:function(){return React.createElement("section",{className:"Intro"},React.createElement("img",{className:"introLoader",src:"assets/img/loaderwow.gif"}),React.createElement("h1",null,"Welcome to the ",React.createElement("span",null,React.createElement("b",null,"Cell Finance"))," World"))},getDefaultSubscriptions:function(){return{"section/change":this.sectionChange,"visual/mode/toggle":this.toggleBoomerMode}},sectionChange:function(t,n){var r=this;ReactModuleLoader.load({modules:["spa/"+t.firstLetterToLowerCase()],callback:function(){return r.setState({section:t.firstLetterToUpperCase(),props:n})}})},toggleBoomerMode:function(){window.localStorage.setItem("boomerMode",!this.domRoot.hasClass("Boomer")),this.forceUpdate()},componentDidMount:function(){this.controller.onSection()},render:function(){var t={};return this.props&&Object.entries(this.props).forEach(function(e){return t[e[0]]=e[1]}),this.state&&Object.entries(this.state).forEach(function(e){return t[e[0]]=e[1]}),t.props&&Object.entries(t.props).forEach(function(e){return t[e[0]]=e[1]}),delete t.props,React.createElement("section",{className:"unifiAll "+(window.localStorage.boomerMode==="true"?"Boomer":"RPG")},React.createElement(window[t.section||"Explainer"],t))}});var Loader=React.createClass({displayName:"Loader",render:function(){return React.createElement("img",{className:this.props.loaderClass||"loaderRegular",src:this.props.loaderImg||"assets/img/loader1.gif"})}});var StableCoinController=function(t){var n=this;n.view=t,n.loadData=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.view.setState({connectionUnavailable:null}),t.prev=1,t.next=4,window.loadEthereumStuff(n.view.oldStableCoin);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t["catch"](1),t.abrupt("return",n.view.setState({connectionUnavailable:!0,selectedPair:null}));case 9:window.stableFarming=window.newContract(window.context.UnifiedStableFarmingAbi,window.context.farmingContractAddress),delete window.addressBarParams.useOldStableCoin,n.view.forceUpdate(),n.loadPairs(),n.loadEconomicData(),n.view.economicDataInterval=n.view.economicDataInterval||setInterval(n.loadEconomicData,window.context.refreshDataPollingInterval);case 15:case"end":return t.stop()}},r,this,[[1,6]])}));return t}(),n.loadEconomicData=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n.view,t.next=3,n.loadDifferences();case 3:return t.t1=t.sent,t.t2={differences:t.t1},t.t0.setState.call(t.t0,t.t2),t.t3=n.view,t.next=9,window.blockchainCall(window.stableCoin.token.methods.totalSupply);case 9:return t.t4=t.sent,t.t5={totalSupply:t.t4},t.t3.setState.call(t.t3,t.t5),t.t6=n.view,t.next=15,window.blockchainCall(window.stableCoin.token.methods.availableToMint);case 15:return t.t7=t.sent,t.t8={availableToMint:t.t7},t.t6.setState.call(t.t6,t.t8),t.t9=n.view,t.next=21,n.getMyBalance();case 21:t.t10=t.sent,t.t11={myBalance:t.t10},t.t9.setState.call(t.t9,t.t11),n.getTotalCoins(),n.calculatePriceInDollars(),n.view.state&&n.view.state.selectedPair&&n.getBalance(n.view.state.selectedPair);case 27:case"end":return t.stop()}},r,this)}));return t}(),n.loadDifferences=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.blockchainCall(window.stableCoin.token.methods.differences);case 2:return e=n.sent,parseInt(e[0])<Math.pow(10,parseInt(window.stableCoin.decimals))&&(e[0]="0"),parseInt(e[1])<Math.pow(10,parseInt(window.stableCoin.decimals))&&(e[1]="0"),n.abrupt("return",e);case 6:case"end":return n.stop()}},n,this)}));return t}(),n.loadPairs=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o,u,a,f,l,c;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n.loadTokensInPairs(window.stableCoin),n.view.setState({pairs:null,token0Approved:null,token1Approved:null,selectedPair:null}),e=[],h.next=5,window.blockchainCall(window.stableCoin.token.methods.allowedPairs);case 5:t=h.sent,i=Array.isArray(t),s=0,t=i?t:t[Symbol.iterator]();case 9:if(!i){h.next=15;break}if(!(s>=t.length)){h.next=12;break}return h.abrupt("break",67);case 12:o=t[s++],h.next=19;break;case 15:s=t.next();if(!s.done){h.next=18;break}return h.abrupt("break",67);case 18:o=s.value;case 19:return u=o,a=window.newContract(window.context.UniswapV2PairAbi,u),h.t0=e.length,h.t1=u,h.t2=a,h.t3=window,h.next=27,window.blockchainCall(a.methods.token0);case 27:return h.t4=h.sent,h.next=30,h.t3.loadTokenInfos.call(h.t3,h.t4);case 30:return h.t5=h.sent,h.t6=window,h.next=34,window.blockchainCall(a.methods.token1);case 34:return h.t7=h.sent,h.next=37,h.t6.loadTokenInfos.call(h.t6,h.t7);case 37:return h.t8=h.sent,f={index:h.t0,address:h.t1,pair:h.t2,token0:h.t5,token1:h.t8},f.name=f.token0.symbol+" / "+f.token1.symbol,h.next=42,window.blockchainCall(a.methods.getReserves);case 42:l=h.sent,l[0]=n.fromTokenToStable(f.token0.decimals,l[0]),l[1]=n.fromTokenToStable(f.token1.decimals,l[1]),c=window.web3.utils.toBN(l[0]).add(window.web3.utils.toBN(l[1])).toString(),c=window.fromDecimals(c,window.stableCoin.decimals,!0),c=parseFloat(c);if(!(c<window.context.uSDPoolLimit)){h.next=52;break}f.disabled=!0,h.next=64;break;case 52:return h.next=54,window.blockchainCall(window.uniswapV2Factory.methods.getPair,window.stableCoin.address,f.token0.address);case 54:h.t9=h.sent,h.t10=window.voidEthereumAddress;if(h.t9===h.t10){h.next=58;break}f.token0.pairWithStable=!0;case 58:return h.next=60,window.blockchainCall(window.uniswapV2Factory.methods.getPair,window.stableCoin.address,f.token1.address);case 60:h.t11=h.sent,h.t12=window.voidEthereumAddress;if(h.t11===h.t12){h.next=64;break}f.token1.pairWithStable=!0;case 64:e.push(f);case 65:h.next=9;break;case 67:n.view.setState({pairs:e,selectedPair:n.firstNonDisabledPair(e),selectedFarmPair:n.firstNonDisabledPair(e,!0),token0Approved:null,token1Approved:null},_asyncToGenerator(regeneratorRuntime.mark(function p(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.checkApprove(n.view.state.selectedPair),n.checkApprove(n.view.state.selectedFarmPair,!0),n.getTotalCoins(),n.view.setState({selectedFarmPairToken:n.view.state.selectedFarmPair.token0}),t.t0=n.view,t.next=7,n.calculateFarmDumpValue(n.view.state.selectedFarmPair,"0",window.toDecimals("1",window.stableCoin.decimals));case 7:t.t1=t.sent,t.t2={selectedFarmPairTokenPrice:"0",selectedFarmPairTokenSinglePrice:t.t1},t.t0.setState.call(t.t0,t.t2);case 10:case"end":return t.stop()}},p,this)})));case 68:case"end":return h.stop()}},r,this)}));return t}(),n.loadTokensInPairs=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s,o,u,a,f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,window.loadUniswapPairs(e);case 2:t=l.sent,i={},s=t,o=Array.isArray(s),u=0,s=o?s:s[Symbol.iterator]();case 5:if(!o){l.next=11;break}if(!(u>=s.length)){l.next=8;break}return l.abrupt("break",20);case 8:a=s[u++],l.next=15;break;case 11:u=s.next();if(!u.done){l.next=14;break}return l.abrupt("break",20);case 14:a=u.value;case 15:f=a,i[window.web3.utils.toChecksumAddress(f.token0.address)]=f.token0,i[window.web3.utils.toChecksumAddress(f.token1.address)]=f.token1;case 18:l.next=5;break;case 20:delete i[window.web3.utils.toChecksumAddress(e.address)],n.view.setState({tokensInPairs:i,selectedTokenInPairs:Object.values(i)[0]},function(){n.checkApprove(n.view.state.selectedTokenInPairs)});case 22:case"end":return l.stop()}},r,this)}));return t}(),n.firstNonDisabledPair=function(t,n){for(var r=t,i=Array.isArray(r),s=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(s>=r.length)break;o=r[s++]}else{s=r.next();if(s.done)break;o=s.value}var u=o;if(n){if(!u.disabled&&(u.token0.pairWithStable||u.token1.pairWithStable))return u}else if(!u.disabled&&(u.token0.pairWithStable&&u.token1.pairWithStable||!u.token0.pairWithStable&&!u.token1.pairWithStable))return u}},n.getBalance=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e.token0;if(!r.t0){r.next=17;break}if(window.walletAddress){r.next=6;break}r.t1="0",r.next=16;break;case 6:if(e.token0.address!==window.wethAddress){r.next=12;break}return r.next=9,window.web3.eth.getBalance(window.walletAddress);case 9:r.t2=r.sent,r.next=15;break;case 12:return r.next=14,window.blockchainCall(e.token0.token.methods.balanceOf,window.walletAddress);case 14:r.t2=r.sent;case 15:r.t1=r.t2;case 16:e.token0.balance=r.t1;case 17:r.t3=e.token1;if(!r.t3){r.next=34;break}if(window.walletAddress){r.next=23;break}r.t4="0",r.next=33;break;case 23:if(e.token1.address!==window.wethAddress){r.next=29;break}return r.next=26,window.web3.eth.getBalance(window.walletAddress);case 26:r.t5=r.sent,r.next=32;break;case 29:return r.next=31,window.blockchainCall(e.token1.token.methods.balanceOf,window.walletAddress);case 31:r.t5=r.sent;case 32:r.t4=r.t5;case 33:e.token1.balance=r.t4;case 34:r.t6=e.token;if(!r.t6){r.next=51;break}if(window.walletAddress){r.next=40;break}r.t7="0",r.next=50;break;case 40:if((e.token.address||e.address)!==window.wethAddress){r.next=46;break}return r.next=43,window.web3.eth.getBalance(window.walletAddress);case 43:r.t8=r.sent,r.next=49;break;case 46:return r.next=48,window.blockchainCall(e.token.methods.balanceOf,window.walletAddress);case 48:r.t8=r.sent;case 49:r.t7=r.t8;case 50:e.balance=r.t7;case 51:n.view.setState(e);case 52:case"end":return r.stop()}},r,this)}));return t}(),n.checkApprove=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n.getBalance(e),i={};if(window.walletAddress){s.next=5;break}return!e.token&&!t?(i.token0Approved=null,i.token1Approved=null):(e.token&&(i.selectedTokenInPairsApproved=null),!e.token&&(i.farmToken0Approved=null),!e.token&&(i.farmToken1Approved=null)),s.abrupt("return",n.view.setState(i));case 5:s.t0=e.token0&&!t;if(!s.t0){s.next=18;break}if(e.token0.address!==window.wethAddress){s.next=11;break}s.t1=!0,s.next=17;break;case 11:return s.t2=parseInt,s.next=14,window.blockchainCall(e.token0.token.methods.allowance,window.walletAddress,window.stableCoin.address);case 14:s.t3=s.sent,s.t4=(0,s.t2)(s.t3),s.t1=s.t4>0;case 17:i.token0Approved=s.t1;case 18:s.t5=e.token1&&!t;if(!s.t5){s.next=31;break}if(e.token1.address!==window.wethAddress){s.next=24;break}s.t6=!0,s.next=30;break;case 24:return s.t7=parseInt,s.next=27,window.blockchainCall(e.token1.token.methods.allowance,window.walletAddress,window.stableCoin.address);case 27:s.t8=s.sent,s.t9=(0,s.t7)(s.t8),s.t6=s.t9>0;case 30:i.token1Approved=s.t6;case 31:s.t10=e.token;if(!s.t10){s.next=44;break}if((e.token.address||e.address)!==window.wethAddress){s.next=37;break}s.t11=!0,s.next=43;break;case 37:return s.t12=parseInt,s.next=40,window.blockchainCall(e.token.methods.allowance,window.walletAddress,window.stableFarming.options.address);case 40:s.t13=s.sent,s.t14=(0,s.t12)(s.t13),s.t11=s.t14>0;case 43:i.selectedTokenInPairsApproved=s.t11;case 44:s.t15=e.token0&&t;if(!s.t15){s.next=57;break}if(e.token0.address!==window.wethAddress){s.next=50;break}s.t16=!0,s.next=56;break;case 50:return s.t17=parseInt,s.next=53,window.blockchainCall(e.token0.token.methods.allowance,window.walletAddress,window.stableFarming.options.address);case 53:s.t18=s.sent,s.t19=(0,s.t17)(s.t18),s.t16=s.t19>0;case 56:i.farmToken0Approved=s.t16;case 57:s.t20=e.token1&&t;if(!s.t20){s.next=70;break}if(e.token1.address!==window.wethAddress){s.next=63;break}s.t21=!0,s.next=69;break;case 63:return s.t22=parseInt,s.next=66,window.blockchainCall(e.token1.token.methods.allowance,window.walletAddress,window.stableFarming.options.address);case 66:s.t23=s.sent,s.t24=(0,s.t22)(s.t23),s.t21=s.t24>0;case 69:i.farmToken1Approved=s.t21;case 70:n.view.setState(i);case 71:case"end":return s.stop()}},r,this)}));return t}(),n.approve=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n.view.setState({approving:t,performing:null}),s={approving:null},o=t.indexOf("farm")!==-1,t=t.split("farm").join(""),a.prev=4,a.next=7,window.blockchainCall((t!=="selectedTokenInPairs"?e["token"+t]:n.view.state.selectedTokenInPairs).token.methods.approve,t==="selectedTokenInPairs"||o?window.stableFarming.options.address:window.stableCoin.address,window.numberToString(1.157920892373162e77));case 7:!o&&(s[(t!=="selectedTokenInPairs"?"token"+t:"selectedTokenInPairs")+"Approved"]=!0),o&&(s["farmToken"+t+"Approved"]=!0),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](4),u=a.t0.message||a.t0,u.toLowerCase().indexOf("user denied")===-1&&(i=u);case 15:n.view.setState(s,function(){return i&&setTimeout(function(){return alert(i)})});case 16:case"end":return a.stop()}},r,this,[[4,11]])}));return t}(),n.calculateOtherPair=function(){function t(t,n,r,i){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e,t,r,i){var s,o,u,a,f,l;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=e["token"+t],r=i===!0?r:window.toDecimals(r.split(",").join(""),s.decimals),c.next=4,window.blockchainCall(e.pair.methods.getReserves);case 4:return o=c.sent,u=o[t],a=o[t==="0"?"1":"0"],f=parseInt(r)/parseInt(u),l=window.numberToString(parseInt(a)*f).split(",").join("").split(".")[0],c.abrupt("return",l);case 10:case"end":return c.stop()}},n,this)}));return t}(),n.calculateBurnValue=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i={token0:"0",token1:"0"};if(!isNaN(parseInt(t))&&parseInt(t)!==0){a.next=3;break}return a.abrupt("return",i);case 3:return a.next=5,n.getComplexReservePairData(e);case 5:return s=a.sent,s.token0AmountInStable=parseInt(n.fromTokenToStable(e.token0.decimals,s[0])),s.token1AmountInStable=parseInt(n.fromTokenToStable(e.token1.decimals,s[1])),s.firstSecond=s.token0AmountInStable/s.token1AmountInStable,s.secondFirst=s.token1AmountInStable/s.token0AmountInStable,t=parseInt(t),i.token0=t*s.firstSecond/2,i.token0=n.fromStableToToken(e.token0.decimals,window.numberToString(i.token0).split(",").join("").split(".")[0]),a.next=15,n.calculateOtherPair(e,"0",i.token0,!0);case 15:return i.token1=a.sent,a.next=18,n.getStableCoinOutput(e,i.token0,i.token1);case 18:return o=a.sent,i.stableCoinOutput=o,u=t/parseInt(o),i.token0=parseInt(i.token0)*u,i.token0=window.numberToString(i.token0).split(",").join("").split(".")[0],i.token1=parseInt(i.token1)*u,i.token1=window.numberToString(i.token1).split(",").join("").split(".")[0],a.abrupt("return",i);case 26:case"end":return a.stop()}},r,this)}));return t}(),n.getStableCoinOutput=function(t,r,i){r=n.fromTokenToStable(t.token0.decimals,r),i=n.fromTokenToStable(t.token1.decimals,i);var s=window.web3.utils.toBN(r).add(window.web3.utils.toBN(i)).toString();return s},n.fromTokenToStable=function(t,n){var r=parseInt(window.stableCoin.decimals)-parseInt(t);return r===0?n:window.toDecimals(n,r)},n.fromStableToToken=function(t,n){var r=parseInt(window.stableCoin.decimals)-parseInt(t);return r===0?n:window.fromDecimals(n,r,!0).split(".")[0]},n.performMint=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i){var s,o,u,a,f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(isNaN(parseInt(t))||parseInt(t)<=0)){l.next=2;break}throw"You must insert a positive "+e.token0.symbol+" amount";case 2:if(!(isNaN(parseInt(i))||parseInt(i)<=0)){l.next=4;break}throw"You must insert a positive "+e.token1.symbol+" amount";case 4:return l.next=6,window.blockchainCall(e.token0.token.methods.balanceOf,window.walletAddress);case 6:s=l.sent;if(!(parseInt(t)>parseInt(s))){l.next=9;break}throw"You have insufficient "+e.token0.symbol;case 9:return l.next=11,window.blockchainCall(e.token1.token.methods.balanceOf,window.walletAddress);case 11:s=l.sent;if(!(parseInt(i)>parseInt(s))){l.next=14;break}throw"You have insufficient "+e.token1.symbol;case 14:return l.next=16,n.getStableCoinOutput(e,t,i);case 16:return o=l.sent,l.t0=parseInt,l.next=20,window.blockchainCall(window.stableCoin.token.methods.availableToMint);case 20:l.t1=l.sent,u=(0,l.t0)(l.t1);if(!(u<parseInt(o))){l.next=24;break}throw"Cannot mint "+window.fromDecimals(o,window.stableCoin.decimals)+" "+window.stableCoin.symbol;case 24:return a=window.numberToString(parseInt(t)*window.context.slippageAmount).split(",").join("").split(".")[0],f=window.numberToString(parseInt(i)*window.context.slippageAmount).split(",").join("").split(".")[0],a=window.web3.utils.toBN(t).sub(window.web3.utils.toBN(a)).toString(),f=window.web3.utils.toBN(i).sub(window.web3.utils.toBN(f)).toString(),l.next=30,window.blockchainCall(window.stableCoin.token.methods.mint,e.index,t,i,a,f);case 30:n.loadEconomicData(),n.view.openSuccessMessage("minted new "+window.stableCoin.symbol+" tokens");case 32:case"end":return l.stop()}},r,this)}));return t}(),n.performBurn=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,n.getBurnData(e,t);case 2:i=u.sent;if(!(isNaN(parseInt(i.token0Value))||parseInt(i.token0Value)<=0)){u.next=5;break}throw"You must insert a positive "+e.token0.symbol+" amount";case 5:if(!(isNaN(parseInt(i.token1Value))||parseInt(i.token1Value)<=0)){u.next=7;break}throw"You must insert a positive "+e.token1.symbol+" amount";case 7:return u.next=9,window.blockchainCall(window.stableCoin.token.methods.balanceOf,window.walletAddress);case 9:s=u.sent;if(!(parseInt(t)>parseInt(s))){u.next=12;break}throw"You have insufficient "+window.stableCoin.symbol;case 12:return u.next=14,window.blockchainCall(e.pair.methods.balanceOf,window.stableCoin.address);case 14:o=u.sent;if(!(parseInt(i.supplyInPercentage)>parseInt(o))){u.next=17;break}throw window.stableCoin.symbol+" has insufficient balance in pool to perform this operation";case 17:return u.next=19,window.blockchainCall(window.stableCoin.token.methods.burn,i.pairDataIndex,i.supplyInPercentage,i.token0Slippage,i.token1Slippage);case 19:n.loadEconomicData(),n.view.openSuccessMessage("burnt your "+window.stableCoin.symbol+" tokens");case 21:case"end":return u.stop()}},r,this)}));return t}(),n.getBurnData=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u,a,f,l,c,h,p,d;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,n.calculateBurnValue(e,t);case 2:return i=v.sent,s=i.token0,o=i.token1,v.next=7,window.blockchainCall(e.pair.methods.getReserves);case 7:return u=v.sent,a=parseInt(s)/parseInt(u[0]),f=parseInt(o)/parseInt(u[1]),l=a<f?a:f,v.next=13,window.blockchainCall(e.pair.methods.totalSupply);case 13:return c=v.sent,h=window.numberToString(parseInt(c)*l).split(",").join("").split(".")[0],p=window.numberToString(parseInt(s)*window.context.slippageAmount).split(",").join("").split(".")[0],d=window.numberToString(parseInt(o)*window.context.slippageAmount).split(",").join("").split(".")[0],p=window.web3.utils.toBN(s).sub(window.web3.utils.toBN(p)).toString(),d=window.web3.utils.toBN(o).sub(window.web3.utils.toBN(d)).toString(),v.abrupt("return",{pairDataIndex:e.index,supplyInPercentage:h,token0Value:s,token1Value:o,token0Slippage:p,token1Slippage:d});case 20:case"end":return v.stop()}},r,this)}));return t}(),n.rebalanceByCredit=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,S.next=3,n.loadDifferences();case 3:return e=S.sent,S.next=6,n.getBestRebalanceByCreditPair();case 6:return t=S.sent,i=t.pairData,s=t.reserves,o=parseInt(e[0]),S.t0=parseInt,S.next=13,window.blockchainCall(window.stableCoin.token.methods.balanceOf,window.walletAddress);case 13:return S.t1=S.sent,u=(0,S.t0)(S.t1),a=s.token0InStable+s.token1InStable,o=o>a?a:o,f=s.token0InStable/a,l=o*f,l/=s.token0InStable,c=parseInt(s.token0)*l,c=window.numberToString(c).split(",").join("").split(".")[0],h=s.token1InStable/a,p=o*h,p/=s.token1InStable,d=parseInt(s.token1)*p,d=window.numberToString(d).split(",").join("").split(".")[0],v=parseInt(c)/parseInt(s.token0),m=parseInt(d)/parseInt(s.token1),g=v<m?v:m,y=s.poolBalance*g,y=window.numberToString(y).split(",").join("").split(".")[0],b=window.numberToString(parseInt(c)*window.context.slippageAmount).split(",").join("").split(".")[0],w=window.numberToString(parseInt(d)*window.context.slippageAmount).split(",").join("").split(".")[0],b=window.web3.utils.toBN(c).sub(window.web3.utils.toBN(b)).toString(),w=window.web3.utils.toBN(d).sub(window.web3.utils.toBN(w)).toString(),S.next=38,window.blockchainCall(window.stableCoin.token.methods.rebalanceByCredit,i.index,y,b,w);case 38:n.loadEconomicData(),n.view.openSuccessMessage("rebalanced by credit the "+window.stableCoin.symbol),S.next=46;break;case 42:S.prev=42,S.t2=S["catch"](0),E=S.t2.message||S.t2,E.toLowerCase().indexOf("user denied")===-1&&alert(E);case 46:case"end":return S.stop()}},r,this,[[0,42]])}));return t}(),n.getBestRebalanceByCreditPair=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o,u,a,f,l,c;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:e=0,t=n.view.state.pairs[0],s=n.view.state.pairs,o=Array.isArray(s),u=0,s=o?s:s[Symbol.iterator]();case 3:if(!o){h.next=9;break}if(!(u>=s.length)){h.next=6;break}return h.abrupt("break",21);case 6:a=s[u++],h.next=13;break;case 9:u=s.next();if(!u.done){h.next=12;break}return h.abrupt("break",21);case 12:a=u.value;case 13:return f=a,h.next=16,n.getComplexReservePairData(f);case 16:l=h.sent,c=l.token0InStable>l.token1InStable?l.token0InStable:l.token1InStable,c>e&&(e=c,t=f,i=l);case 19:h.next=3;break;case 21:return h.abrupt("return",{pairData:t,reserves:i});case 22:case"end":return h.stop()}},r,this)}));return t}(),n.getComplexReservePairData=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,window.blockchainCall(e.pair.methods.getReserves);case 2:return t=o.sent,o.t0=parseInt,o.next=6,window.blockchainCall(e.pair.methods.balanceOf,window.stableCoin.address);case 6:return o.t1=o.sent,t.poolBalance=(0,o.t0)(o.t1),o.t2=parseInt,o.next=11,window.blockchainCall(e.pair.methods.totalSupply);case 11:return o.t3=o.sent,i=(0,o.t2)(o.t3),s=t.poolBalance/i,t.token0=parseInt(t[0])*s,t.token1=parseInt(t[1])*s,t.token0=window.numberToString(t.token0).split(",").join("").split(".")[0],t.token1=window.numberToString(t.token1).split(",").join("").split(".")[0],t.token0InStable=parseInt(n.fromTokenToStable(e.token0.decimals,t.token0)),t.token1InStable=parseInt(n.fromTokenToStable(e.token1.decimals,t.token1)),t.amount=s,o.abrupt("return",t);case 22:case"end":return o.stop()}},r,this)}));return t}(),n.rebalanceByDebt=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e){var t,i,s,o;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:u.prev=0,e=window.toDecimals(e.split(",").join(""),window.stableCoin.decimals);if(!(isNaN(parseInt(e))||parseInt(e)<=0)){u.next=4;break}throw"Inserted amount must be a positive number";case 4:return u.next=6,n.loadDifferences();case 6:t=u.sent,i=parseInt(t[1]);if(!(parseInt(e)>i)){u.next=10;break}throw"Inserted amount is greater than the debt";case 10:return u.t0=parseInt,u.next=13,window.blockchainCall(window.stableCoin.token.methods.balanceOf,window.walletAddress);case 13:u.t1=u.sent,s=(0,u.t0)(u.t1);if(!(parseInt(e)>s)){u.next=17;break}throw"You don't have enough "+window.stableCoin.symbol+" to perform this operation";case 17:return u.next=19,window.blockchainCall(window.stableCoin.token.methods.rebalanceByDebt,e);case 19:n.loadEconomicData(),n.view.openSuccessMessage("rebalanced by debt the "+window.stableCoin.symbol),u.next=27;break;case 23:u.prev=23,u.t2=u["catch"](0),o=u.t2.message||u.t2,o.toLowerCase().indexOf("user denied")===-1&&alert(o);case 27:case"end":return u.stop()}},r,this,[[0,23]])}));return t}(),n.getMyBalance=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.walletAddress){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,window.blockchainCall(window.stableCoin.token.methods.balanceOf,window.walletAddress);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},n,this)}));return t}(),n.calculateRebalanceByDebtReward=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=window.toDecimals(e.split(",").join(""),window.stableCoin.decimals),n.next=3,window.blockchainCall(window.stableCoin.token.methods.calculateRebalanceByDebtReward,e);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n,this)}));return t}(),n.getTotalCoins=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o,u,a,f,l,c,h,p;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!!n.view.state&&!!n.view.state.pairs){d.next=2;break}return d.abrupt("return");case 2:e={balanceOf:"0",list:{}},t=n.view.state.pairs,i=Array.isArray(t),s=0,t=i?t:t[Symbol.iterator]();case 4:if(!i){d.next=10;break}if(!(s>=t.length)){d.next=7;break}return d.abrupt("break",42);case 7:o=t[s++],d.next=14;break;case 10:s=t.next();if(!s.done){d.next=13;break}return d.abrupt("break",42);case 13:o=s.value;case 14:return u=o,d.next=17,window.blockchainCall(u.pair.methods.getReserves);case 17:return a=d.sent,d.t0=parseInt,d.next=21,window.blockchainCall(u.pair.methods.balanceOf,window.stableCoin.address);case 21:return d.t1=d.sent,a.poolBalance=(0,d.t0)(d.t1),d.t2=parseInt,d.next=26,window.blockchainCall(u.pair.methods.totalSupply);case 26:d.t3=d.sent,f=(0,d.t2)(d.t3),l=a.poolBalance/f,a.token0=parseInt(a[0])*l,a.token1=parseInt(a[1])*l,a.token0=window.numberToString(a.token0).split(",").join("").split(".")[0],a.token1=window.numberToString(a.token1).split(",").join("").split(".")[0],a.token0InStable=n.fromTokenToStable(u.token0.decimals,a.token0),a.token1InStable=n.fromTokenToStable(u.token1.decimals,a.token1),e.balanceOf=window.web3.utils.toBN(a.token0InStable).add(window.web3.utils.toBN(a.token1InStable)).add(window.web3.utils.toBN(e.balanceOf)).toString(),e.list[u.token0.address]=e.list[u.token0.address]||{symbol:u.token0.symbol,name:u.token0.name,balanceOf:"0",address:u.token0.address,decimals:u.token0.decimals},e.list[u.token0.address].balanceOf=window.web3.utils.toBN(a.token0InStable).add(window.web3.utils.toBN(e.list[u.token0.address].balanceOf)).toString(),e.list[u.token1.address]=e.list[u.token1.address]||{symbol:u.token1.symbol,name:u.token1.name,balanceOf:"0",address:u.token1.address,decimals:u.token1.decimals},e.list[u.token1.address].balanceOf=window.web3.utils.toBN(a.token1InStable).add(window.web3.utils.toBN(e.list[u.token1.address].balanceOf)).toString();case 40:d.next=4;break;case 42:l=e.balanceOf,f=n.view.state.totalSupply,f=parseInt(f),l=parseInt(l),c=f<l?f:l,h=f>l?f:l,p=c/h*100,p=parseInt(window.formatMoney(p,0)),l>f&&(p=p===200?200:p>200?201:200-p),e.regularPercentage=window.numberToString(p).split(",").join("").split(".")[0],e.healthPercentage=window.numberToString(p/2).split(",").join("").split(".")[0],parseInt(e.regularPercentage)>200&&(e.regularPercentage="200+"),parseInt(e.healthPercentage)>100&&(e.healthPercentage="100");if(isNaN(parseInt(e.regularPercentage))||l===0&&f===0)e.regularPercentage="100",e.healthPercentage="50";n.view.setState({totalCoins:e});case 57:case"end":return d.stop()}},r,this)}));return t}(),n.calculatePriceInDollars=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n.view,t.next=3,n.getPriceInDollars(window.stableCoin);case 3:t.t1=t.sent,t.t2={priceInDollars:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},r,this)}));return t}(),n.getPriceInDollars=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e,t){var r,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,window.getEthereumPrice();case 2:r=s.sent,s.prev=3,s.t0=window;if(e.address!==window.wethAddress){s.next=9;break}s.t1=t||window.toDecimals(1,18),s.next=12;break;case 9:return s.next=11,window.blockchainCall(window.uniswapV2Router.methods.getAmountsOut,t||window.toDecimals("1",e.decimals),[e.address,window.wethAddress]);case 11:s.t1=s.sent[1];case 12:return s.t2=s.t1,i=s.t0.fromDecimals.call(s.t0,s.t2,18,!0),i=parseFloat(i)*r,s.abrupt("return",i);case 18:s.prev=18,s.t3=s["catch"](3);case 20:return s.abrupt("return",0);case 21:case"end":return s.stop()}},n,this,[[3,18]])}));return t}(),n.setDumpPricesInDollars=function(){function t(t,n,r,i,s,o){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i,s,o,u){var a,f,l,c,h,p;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.t0=parseInt,d.next=3,n.fromTokenToStable(e.token0.decimals,t);case 3:return d.t1=d.sent,a=(0,d.t0)(d.t1),d.t2=parseInt,d.next=8,n.fromTokenToStable(e.token1.decimals,i);case 8:return d.t3=d.sent,f=(0,d.t2)(d.t3),l=a+f,n.view.setState({farmDumpPay:window.fromDecimals(l,window.stableCoin.decimals)}),c=parseInt(window.toDecimals(s.split(",").join(""),window.stableCoin.decimals)),d.t4=parseInt,d.next=16,n.fromTokenToStable(o.decimals,u);case 16:d.t5=d.sent,h=(0,d.t4)(d.t5),p=c+h,n.view.setState({farmDumpDifference:window.fromDecimals(p-l,window.stableCoin.decimals)});case 20:case"end":return d.stop()}},r,this)}));return t}(),n.performEarnByPump=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i){var s,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(isNaN(parseInt(i))||parseInt(i)<=0)){a.next=2;break}throw"The "+e.symbol+" amount must be a number greater than 0";case 2:if((e.token.address||e.address)!==window.wethAddress){a.next=8;break}return a.next=5,window.web3.eth.getBalance(window.walletAddress);case 5:a.t0=a.sent,a.next=11;break;case 8:return a.next=10,window.blockchainCall(e.token.methods.balanceOf,window.walletAddress);case 10:a.t0=a.sent;case 11:s=a.t0;if(!(parseInt(i)>parseInt(s))){a.next=14;break}throw"You don't have sufficient "+e.symbol+" to swap";case 14:return a.next=16,n.calculateEarnByPumpData(e,t,i);case 16:o=a.sent;if(!(parseInt(o.token0)<1||parseInt(o.token1)<1)){a.next=19;break}throw"Cannot pump: "+window.stableCoin.symbol+" value is higher than "+e.symbol;case 19:if(o.farmPumpDifference.indexOf("-")===-1&&o.token0Value.indexOf("-")===-1&&o.token1Value.indexOf("-")===-1){a.next=21;break}throw"Arbitrage earns cannot be negative";case 21:return u=(e.token.address||e.address)===window.wethAddress?i:undefined,a.next=24,window.blockchainCall(u,window.stableFarming.methods.earnByPump,window.stableCoin.address,o.pairDataIndex,o.supplyInPercentage,o.token0Slippage,o.token1Slippage,e.address,u?"0":i);case 24:n.loadEconomicData(),n.view.openSuccessMessage("Pumped "+window.stableCoin.symbol+" Token");case 26:case"end":return a.stop()}},r,this)}));return t}(),n.calculateEarnByPumpData=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i){var s,o,u,a,f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!isNaN(parseInt(i))&&parseInt(i)!==0){l.next=2;break}return l.abrupt("return",null);case 2:return s={},l.next=5,n.getPriceInDollars(e,i);case 5:return s.inputInDollars=l.sent,s.input=window.toDecimals(window.numberToString(s.inputInDollars).split(",").join(""),window.stableCoin.decimals),l.next=9,window.blockchainCall(window.uniswapV2Router.methods.getAmountsOut,i,[e.address,window.stableCoin.address]);case 9:return s.output=l.sent[1],s.valueInStable=n.fromTokenToStable(e.decimals,i),s.diff=window.web3.utils.toBN(s.output).sub(window.web3.utils.toBN(s.input)).toString(),l.next=14,n.getBurnData(t,s.diff);case 14:return o=l.sent,Object.entries(o).forEach(function(e){return s[e[0]]=e[1]}),l.t0=parseInt,l.next=19,n.fromTokenToStable(t.token0.decimals,s.token0Value);case 19:return l.t1=l.sent,u=(0,l.t0)(l.t1),l.t2=parseInt,l.next=24,n.fromTokenToStable(t.token1.decimals,s.token1Value);case 24:return l.t3=l.sent,a=(0,l.t2)(l.t3),f=u+a,s.farmPumpDifference=window.fromDecimals(f,window.stableCoin.decimals),l.abrupt("return",s);case 29:case"end":return l.stop()}},r,this)}));return t}(),n.calculateFarmDumpValue=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e,t,r){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!isNaN(parseInt(r))&&parseInt(r)!==0){i.next=2;break}return i.abrupt("return","0");case 2:return i.prev=2,i.next=5,window.blockchainCall(window.uniswapV2Router.methods.getAmountsOut,r,[window.stableCoin.address,e["token"+t].address]);case 5:return i.abrupt("return",i.sent[1]);case 8:return i.prev=8,i.t0=i["catch"](2),i.abrupt("return","0");case 11:case"end":return i.stop()}},n,this,[[2,8]])}));return t}(),n.performEarnByDump=function(){function t(t,n,r,i,s){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i,s,o){var u,a,f,l,c,h,p,d,v,m;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(isNaN(parseInt(t))||parseInt(t)<=0)){g.next=2;break}throw"You must insert a positive "+e.token0.symbol+" amount";case 2:if(!(isNaN(parseInt(i))||parseInt(i)<=0)){g.next=4;break}throw"You must insert a positive "+e.token1.symbol+" amount";case 4:return g.next=6,window.blockchainCall(e.token0.token.methods.balanceOf,window.walletAddress);case 6:u=g.sent;if(!(parseInt(t)>parseInt(u))){g.next=9;break}throw"You have insufficient "+e.token0.symbol;case 9:return g.next=11,window.blockchainCall(e.token1.token.methods.balanceOf,window.walletAddress);case 11:u=g.sent;if(!(parseInt(i)>parseInt(u))){g.next=14;break}throw"You have insufficient "+e.token1.symbol;case 14:return g.next=16,n.getStableCoinOutput(e,t,i);case 16:return a=g.sent,g.t0=parseInt,g.next=20,window.blockchainCall(window.stableCoin.token.methods.availableToMint);case 20:g.t1=g.sent,f=(0,g.t0)(g.t1);if(!(f<parseInt(a))){g.next=24;break}throw"Cannot mint "+window.fromDecimals(a,window.stableCoin.decimals)+" "+window.stableCoin.symbol;case 24:l=[s];if(l.length!==0){g.next=27;break}throw"You must choose at least one of the two tokens to swap";case 27:c=[o],h="0",p=0;case 30:if(!(p<c.length)){g.next=38;break}d=c[p];if(!(isNaN(parseInt(d))||parseInt(d)<=0)){g.next=34;break}throw"The "+e["token"+l[p]].symbol+" amount must be a number greater than 0";case 34:h=window.web3.utils.toBN(h).add(window.web3.utils.toBN(d)).toString();case 35:p++,g.next=30;break;case 38:if(!(parseInt(h)>parseInt(a))){g.next=40;break}throw"The total value of "+window.stableCoin.symbol+" to swap is greater than the one that will be minted";case 40:return v=window.numberToString(parseInt(t)*window.context.slippageAmount).split(",").join("").split(".")[0],m=window.numberToString(parseInt(i)*window.context.slippageAmount).split(",").join("").split(".")[0],v=window.web3.utils.toBN(t).sub(window.web3.utils.toBN(v)).toString(),m=window.web3.utils.toBN(i).sub(window.web3.utils.toBN(m)).toString(),g.next=46,window.blockchainCall(window.stableFarming.methods.earnByDump,window.stableCoin.address,e.index,t,i,v,m,l,c);case 46:n.loadEconomicData(),n.view.openSuccessMessage("Dumped "+window.stableCoin.symbol+" Token");case 48:case"end":return g.stop()}},r,this)}));return t}()};var StableCoin=React.createClass({displayName:"StableCoin",requiredScripts:["spa/banner.jsx","spa/loader.jsx","spa/grimoire/grimuSD.jsx"],requiredModules:["spa/dappMenu"],getDefaultSubscriptions:function(){return{"ethereum/update":this.controller.loadData,"ethereum/ping":this.onPing,"success/message":this.openSuccessMessage}},onPing:function(){this.state&&this.state.selectedPair&&this.controller.checkApprove(this.state.selectedPair),this.state&&this.state.selectedFarmPair&&this.controller.checkApprove(this.state.selectedTokenInPairs),this.state&&this.state.selectedFarmPair&&this.controller.checkApprove(this.state.selectedFarmPair,!0)},componentDidMount:function(){this.oldStableCoin=this.props.oldStableCoin||window.consumeAddressBarParam("useOldStableCoin")!==undefined,this.controller.loadData()},componentWillUnmount:function(){delete this.oldStableCoin,this.economicDataInterval&&window.clearInterval(this.economicDataInterval),delete this.economicDataInterval},onActionChange:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=t.currentTarget.value,r=this;r.setState({myBalance:null,burnValue:null},function(){n==="Burn"&&r.controller.getMyBalance().then(function(e){r.setState({myBalance:e})})})},onTokenInPairsChange:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this;this.setState({selectedTokenInPairs:this.state.tokensInPairs[t.currentTarget.value],token0Approved:null,token1Approved:null},function(){n.controller.checkApprove(n.state.selectedTokenInPairs);var e=$(n.domRoot).children().find('input[data-token="selectedTokenInPairs"]')[0];e.dataset.value=window.toDecimals(e.value,n.state.selectedTokenInPairs.decimals),n.controller.calculateEarnByPumpData(n.state.selectedTokenInPairs,n.state.selectedFarmPair,e.dataset.value).then(function(e){n.controller.checkApprove(n.state.selectedTokenInPairs),n.setState({earnByPumpData:e}),n.onType({currentTarget:$(n.domRoot).children().find('input[data-token="selectedTokenInPairs"]')[0]})})})},onPairChange:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this;t.currentTarget.dataset.target==="classic"&&this.setState({selectedPair:this.state.pairs[t.currentTarget.value],token0Approved:null,token1Approved:null},function(){try{$(n.domRoot).children().find('input[data-token="0"]')[0].value="0.00",$(n.domRoot).children().find('input[data-token="0"]')[0].dataset.value="0",$(n.domRoot).children().find('input[data-token="1"]')[0].value="0.00",$(n.domRoot).children().find('input[data-token="1"]')[0].dataset.value="0"}catch(e){}n.controller.checkApprove(n.state.selectedPair);var t=$(n.domRoot).children().find('input[data-token="stableCoin"]')[0];t&&n.onType({currentTarget:t})}),t.currentTarget.dataset.target==="farm"&&this.setState({selectedFarmPair:this.state.pairs[t.currentTarget.value]},function(){var e=$(n.domRoot).children().find('input[data-token="selectedTokenInPairs"]')[0];if(e){var t=e.value;n.controller.calculateEarnByPumpData(n.state.selectedTokenInPairs,n.state.selectedFarmPair,window.toDecimals(t,n.state.selectedTokenInPairs.decimals)).then(function(e){n.setState({earnByPumpData:e}),n.onType({currentTarget:$(n.domRoot).children().find('input[data-token="selectedTokenInPairs"]')[0]})});return}$(n.domRoot).children().find('input[data-token="farm0"]')[0].value="0.00",$(n.domRoot).children().find('input[data-token="farm0"]')[0].dataset.value="0",$(n.domRoot).children().find('input[data-token="farm1"]')[0].value="0.00",$(n.domRoot).children().find('input[data-token="farm1"]')[0].dataset.value="0",n.controller.checkApprove(n.state.selectedFarmPair,!0),n.controller.calculateFarmDumpValue(n.state.selectedFarmPair,"0",window.toDecimals("1",window.stableCoin.decimals)).then(function(e){n.setState({selectedFarmPairToken:n.state.selectedFarmPair.token0}),n.setState({selectedFarmPairTokenSinglePrice:e}),n.farmDumpRange&&n.onFarmDumpSliderChange({currentTarget:n.farmDumpRange})})})},onDumpPairChange:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this,r=t.currentTarget.value;n.controller.calculateFarmDumpValue(n.state.selectedFarmPair,r,window.toDecimals("1",window.stableCoin.decimals)).then(function(e){n.setState({selectedFarmPairToken:n.state.selectedFarmPair["token"+r]}),n.setState({selectedFarmPairTokenSinglePrice:e}),n.farmDumpRange&&n.onFarmDumpSliderChange({currentTarget:n.farmDumpRange})})},onType:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this,r=t.currentTarget;n.onTypeTimeout&&window.clearTimeout(n.onTypeTimeout),n.onTypeTimeout=setTimeout(function(){var e=r.dataset.token==="stableCoin"?window.stableCoin.decimals:r.dataset.token==="selectedTokenInPairs"?n.state.selectedTokenInPairs.decimals:(r.dataset.token.indexOf("farm")===-1?n.state.selectedPair:n.state.selectedFarmPair)["token"+r.dataset.token.split("farm").join("")].decimals;r.dataset.value=window.toDecimals(r.value,e),(r.dataset.token==="0"||r.dataset.token==="1")&&n.controller.calculateOtherPair(n.state.selectedPair,r.dataset.token,r.value,n.actionSelect.value).then(function(e){var t=r.dataset.token==="0"?"1":"0",i=$(n.domRoot).children().find('input[data-token="'+t+'"]')[0];i.dataset.value=e,i.value=window.formatMoney(window.fromDecimals(e,n.state.selectedPair["token"+t].decimals,!0),6),n.refreshStableCoinOutput()}),r.dataset.token==="stableCoin"&&n.controller.calculateBurnValue(n.state.selectedPair,r.dataset.value).then(function(e){n.setState({burnValue:e})}),r.dataset.token==="selectedTokenInPairs"&&n.controller.calculateEarnByPumpData(n.state.selectedTokenInPairs,n.state.selectedFarmPair,r.dataset.value).then(function(e){n.setState({earnByPumpData:e})}),(r.dataset.token==="farm0"||r.dataset.token==="farm1")&&n.controller.calculateOtherPair(n.state.selectedFarmPair,r.dataset.token.split("farm").join(""),r.value,n.actionSelect.value).then(function(e){var t=r.dataset.token==="farm0"?"1":"0",i=$(n.domRoot).children().find('input[data-token="farm'+t+'"]')[0];i.dataset.value=e,i.value=window.formatMoney(window.fromDecimals(e,n.state.selectedFarmPair["token"+t].decimals,!0),6),n.refreshStableCoinOutput("farm",n.farmStableCoinOutput)})},window.context.typeTimeout)},refreshStableCoinOutput:function(t,n){t=t||"";var r=$(this.domRoot).children().find('input[data-token="'+t+'0"]')[0].dataset.value,i=$(this.domRoot).children().find('input[data-token="'+t+'1"]')[0].dataset.value,s=this.controller.getStableCoinOutput(this.state.selectedPair,r,i);s=window.formatMoney(window.fromDecimals(s,window.stableCoin.decimals,!0),0),(n||this.stableCoinOutput).innerHTML=s,this.farmStableCoinSwap&&(this.farmStableCoinSwap.innerHTML=s),s=s.split(",").join(""),this.farmDumpRange&&(this.farmDumpRange.max=s),s=window.formatMoney(parseInt(s)*.15).split(",").join(""),this.farmDumpRange&&(this.farmDumpRange.value=s),this.farmDumpRange&&this.onFarmDumpSliderChange({currentTarget:this.farmDumpRange})},onFarmDumpSliderChange:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.farmStableCoinSwap.innerHTML=t.currentTarget.value;var n=this,r=n.dumpPairSelection.value,i=window.formatMoney(parseFloat(t.currentTarget.max)-parseFloat(t.currentTarget.value)),s=t.currentTarget;n.onTypeTimeout&&window.clearTimeout(n.onTypeTimeout),n.onTypeTimeout=setTimeout(function(){n.controller.calculateFarmDumpValue(n.state.selectedFarmPair,r,window.toDecimals(s.value,window.stableCoin.decimals)).then(function(e){n.setState({selectedFarmPairTokenPrice:e,dumpFinalStable:i}),n.controller.setDumpPricesInDollars(n.state.selectedFarmPair,$(n.domRoot).children().find('input[data-token="farm0"]')[0].dataset.value,$(n.domRoot).children().find('input[data-token="farm1"]')[0].dataset.value,i,n.state.selectedFarmPair["token"+r],e)})},230)},farmDumpRangeMax:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.farmDumpRange.value=this.farmDumpRange.max,this.onFarmDumpSliderChange({currentTarget:this.farmDumpRange})},doAction:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);if(t.currentTarget.className.toLowerCase().indexOf("disabled")!==-1||this.state&&(this.state.approving!==undefined&&this.state.approving!==null||this.state.performing!==undefined&&this.state.performing!==null))return;var n=t.currentTarget.dataset.action,r=[];n==="Mint"&&(r=[this.state.selectedPair,$(this.domRoot).children().find('input[data-token="0"]')[0].dataset.value,$(this.domRoot).children().find('input[data-token="1"]')[0].dataset.value]),n==="Burn"&&(r=[this.state.selectedPair,$(this.domRoot).children().find('input[data-token="stableCoin"]')[0].dataset.value]),n==="EarnByPump"&&(r=[this.state.selectedTokenInPairs,this.state.selectedFarmPair,$(this.domRoot).children().find('input[data-token="selectedTokenInPairs"]')[0].dataset.value]),n==="EarnByDump"&&(r=[this.state.selectedFarmPair,$(this.domRoot).children().find('input[data-token="farm0"]')[0].dataset.value,$(this.domRoot).children().find('input[data-token="farm1"]')[0].dataset.value,this.dumpPairSelection.value,window.toDecimals(this.farmDumpRange.value,window.stableCoin.decimals)]);var i=this;i.setState({approving:null,performing:null},function(){var e=function(t){var n=t&&(t.message||t);n&&n.toLowerCase().indexOf("user denied")!==-1&&(n=undefined),i.setState({approving:null,performing:null},function(){n&&setTimeout(function(){alert(n)})})};i.setState({performing:n},function(){i.controller["perform"+n].apply(this,r).catch(e).finally(e)})})},approve:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);if(t.currentTarget.className.toLowerCase().indexOf("disabled")!==-1||this.state&&(this.state.approving!==undefined&&this.state.approving!==null||this.state.performing!==undefined&&this.state.performing!==null))return;this.controller.approve(this.state.selectedPair,t.currentTarget.dataset.token)},rebalance:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.controller.rebalance()},renderAvailableToMint:function(){if(!this.state||!this.state.availableToMint)return;if(parseInt(this.state.availableToMint)+parseInt(this.state.totalSupply)===1.157920892373162e77)return;return React.createElement("section",null,React.createElement("h4",null,"Mintable:"),React.createElement("span",null,window.fromDecimals(this.state.availableToMint,window.stableCoin.decimals)," ",window.stableCoin.symbol))},toggleTotalCoins:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.setState({toggleTotalCoins:this.state&&this.state.toggleTotalCoins?null:!0})},max:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this,r=t.currentTarget.dataset.token;(r==="0"||r==="1")&&this.controller.getBalance(this.state.selectedPair).then(function(){var e=$(n.domRoot).children().find('input[data-token="'+r+'"]')[0],t=n.state.selectedPair["token"+r].balance;e.value=window.fromDecimals(t,n.state.selectedPair["token"+r].decimals,!0),n.onType({currentTarget:e})}),r==="stableCoin"&&this.controller.getMyBalance().then(function(e){n.setState({myBalance:e},function(){var t=$(n.domRoot).children().find('input[data-token="'+r+'"]')[0];t.value=window.fromDecimals(e,window.stableCoin.decimals,!0),n.onType({currentTarget:t})})}),r==="selectedTokenInPairs"&&this.controller.getBalance(this.state.selectedTokenInPairs).then(function(){var e=$(n.domRoot).children().find('input[data-token="'+r+'"]')[0],t=n.state.selectedTokenInPairs.balance;e.value=window.fromDecimals(t,n.state.selectedTokenInPairs.decimals,!0),n.onType({currentTarget:e})}),(r==="farm0"||r==="farm1")&&this.controller.getBalance(this.state.selectedFarmPair).then(function(){var e=$(n.domRoot).children().find('input[data-token="'+r+'"]')[0],t=n.state.selectedFarmPair["token"+r.split("farm").join("")].balance;e.value=window.fromDecimals(t,n.state.selectedFarmPair["token"+r.split("farm").join("")].decimals,!0),n.onType({currentTarget:e})})},rebalanceByDebt:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.controller.rebalanceByDebt(this.rebalanceByDebtInput.value)},rebalanceByDebtInputChange:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this,r=t.currentTarget;n.onTypeTimeout&&window.clearTimeout(n.onTypeTimeout),n.onTypeTimeout=setTimeout(function(){n.controller.calculateRebalanceByDebtReward(r.value).then(function(e){n.debtReward.innerHTML=window.fromDecimals(e,window.dfo.decimals)})},window.context.typeTimeout)},toggleGrimoire:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.setState({grimoire:!this.state||!this.state.grimoire})},onSwapFarmTokenCheck:function(t){var n=t.currentTarget.dataset.target,r=this["swapFarmToken"+n];r.value="0",r.dataset.value="0",r.disabled=!t.currentTarget.checked,this["swapFarmToken"+n+"Output"].innerHTML="0.00",this.onFarmDumpChange({currentTarget:r})},onFarmDumpChange:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this,r=t.currentTarget,i=r.dataset.target;n["swapFarmToken"+i+"Output"].innerHTML="0.00",n.onTypeTimeout&&window.clearTimeout(n.onTypeTimeout),n.onTypeTimeout=setTimeout(function(){var e=r.value;e=window.toDecimals(e,window.stableCoin.decimals),r.dataset.value=e,n.controller.calculateFarmDumpValue(n.state.selectedFarmPair,i,e).then(function(e){n["swapFarmToken"+i+"Output"].innerHTML=window.fromDecimals(e,n.state.selectedFarmPair["token"+i].decimals,!0)})},window.context.typeTimeout)},closeSuccessMessage:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.successMessageCloseTimeout&&window.clearTimeout(this.successMessageCloseTimeout),this.setState({successMessage:null})},openSuccessMessage:function(t){this.closeSuccessMessage();var n=this;n.setState({successMessage:t},function(){n.successMessageCloseTimeout=setTimeout(function(){n.closeSuccessMessage()},4e3)})},renderMint:function(){var t=this,n;return React.createElement("section",{className:"UniTierQuantity"},React.createElement("label",{className:"UniActiveQuantityTier"},React.createElement("input",{"data-token":"0",onKeyUp:this.onType}),React.createElement("img",{src:this.state.selectedPair.token0.logo}),React.createElement("p",null,this.state.selectedPair.token0.symbol),window.walletAddress&&React.createElement("h6",null,React.createElement("a",{href:"javascript:;","data-token":"0",onClick:this.max},"Max")," Balance: ",window.fromDecimals(this.state.selectedPair.token0.balance,this.state.selectedPair.token0.decimals)," ",this.state.selectedPair.token0.symbol)),React.createElement("h5",null,"And"),React.createElement("label",{className:"UniDisactiveQuantityTier"},React.createElement("input",{"data-token":"1",onKeyUp:this.onType}),React.createElement("img",{src:this.state.selectedPair.token1.logo}),React.createElement("p",null,this.state.selectedPair.token1.symbol),window.walletAddress&&React.createElement("h6",null,React.createElement("a",{href:"javascript:;","data-token":"1",onClick:this.max},"Max")," Balance: ",window.fromDecimals(this.state.selectedPair.token1.balance,this.state.selectedPair.token1.decimals)," ",this.state.selectedPair.token1.symbol)),React.createElement("h2",null,"for ",React.createElement("b",{ref:function(n){return t.stableCoinOutput=n}},"0"),"¬†",window.stableCoin.symbol),window.walletAddress&&this.state&&this.state.myBalance&&this.actionSelect&&this.actionSelect.value==="Burn"&&React.createElement("h6",null,"Balance: ",React.createElement("b",null,window.fromDecimals(this.state.myBalance,window.stableCoin.decimals)),"¬†",window.stableCoin.symbol),window.walletAddress&&(!this.state.token0Approved||this.state.token1Approved)&&this.state.approving!=="0"&&this.state.approving!=="1"&&React.createElement("a",(n={className:"approveBTN",href:"javascript:;",onClick:this.approve,"data-token":"0"},n.className=this.state.token0Approved?"approveBTN Disabled":"approveBTN",n),"Approve ",this.state.selectedPair.token0.symbol),window.walletAddress&&this.state.token0Approved&&!this.state.token1Approved&&this.state.approving!=="0"&&this.state.approving!=="1"&&React.createElement("a",{className:"approveBTN",href:"javascript:;",onClick:this.approve,"data-token":"1"},"Approve ",this.state.selectedPair.token1.symbol),(this.state.approving==="0"||this.state.approving==="1")&&React.createElement(Loader,{loaderClass:"loaderMini",loaderImg:window.resolveImageURL("loader4","gif")}),window.walletAddress&&this.state.performing!=="Mint"&&React.createElement("a",{href:"javascript:;","data-action":"Mint",onClick:this.doAction,className:!this.state.token0Approved||!this.state.token1Approved?"StableITBTN Disabled":"StableITBTN"},"GO"),this.state.performing==="Mint"&&React.createElement(Loader,{loaderClass:"loaderMini",loaderImg:window.resolveImageURL("loader3","gif")}))},renderBurn:function(){return React.createElement("section",{className:"UniTierQuantity"},React.createElement("label",{className:"UniDisactiveQuantityTier"},React.createElement("input",{"data-token":"stableCoin",onKeyUp:this.onType}),React.createElement("img",{src:window.stableCoin.logo}),React.createElement("p",null,window.stableCoin.symbol),window.walletAddress&&React.createElement("h6",null,React.createElement("a",{href:"javascript:;","data-token":"stableCoin",onClick:this.max},"Max")," Balance: ",window.fromDecimals(this.state.myBalance,window.stableCoin.decimals)," ",window.stableCoin.symbol)),React.createElement("h2",null,"for"),React.createElement("label",{className:"UniActiveQuantityTier UniActiveQuantityTierBurn"},React.createElement("span",null,this.state&&this.state.burnValue&&window.fromDecimals(this.state.burnValue.token0,this.state.selectedPair.token0.decimals,!0)||"0.00"),React.createElement("img",{src:this.state.selectedPair.token0.logo}),React.createElement("p",null,this.state.selectedPair.token0.symbol)),React.createElement("h5",null,"And"),React.createElement("label",{className:"UniDisactiveQuantityTier UniActiveQuantityTierBurn"},React.createElement("span",null,this.state&&this.state.burnValue&&window.fromDecimals(this.state.burnValue.token1,this.state.selectedPair.token1.decimals,!0)||"0.00"),React.createElement("img",{src:this.state.selectedPair.token1.logo}),React.createElement("p",null,this.state.selectedPair.token1.symbol)),React.createElement("br",null),window.walletAddress&&this.state.performing!=="Burn"&&React.createElement("a",{href:"javascript:;","data-action":"Burn",onClick:this.doAction,className:"StableITBTN"},"GO"),this.state.performing==="Burn"&&React.createElement(Loader,{loaderClass:"loaderMini",loaderImg:window.resolveImageURL("loader3","gif")}))},renderPumpDumpBanner:function(){return window.stableCoin&&window.stableCoin.name&&window.stableCoin.symbol?React.createElement("section",{className:"StableCoinTitle StableCoinTitleALWAYS"},React.createElement("section",{className:"StableCoinTitleIntern"},React.createElement("img",{src:"assets/img/farmer.png"}),React.createElement("article",null,React.createElement("h2",null,window.stableCoin.symbol," Arbitrage Farming"),React.createElement("h6",null,React.createElement("b",null,"It‚Äôs time to farm stablecoins by stabilizing ",window.stableCoin.symbol,"!"),React.createElement("br",null),"You can see this section if ",window.stableCoin.symbol," price is  greater or less to $1.",React.createElement("br",null),React.createElement("b",null,"What ",window.stableCoin.symbol," Arbitrage Farming is about?"),React.createElement("br",null),React.createElement("br",null)," If ",window.stableCoin.symbol," is grater than $1, you can stabilize it and earn in a single transaction by 1- Minting uSD, by adding to a stablecoin tier; 2- Swapping your minted uSD for another stablecoin; And earning extra stablecoins from the difference. ",React.createElement("br",null),React.createElement("br",null),"If ",window.stableCoin.symbol," is less than $1, you can stabilize it and earn in a single transaction by 1- Swapping a stablecoin for uSD; 2- Burning the excess uSD for another stablecoin; And 3- ultimately ending up with same $ amount you started with plus extra stablecoins ",React.createElement("b",null),React.createElement("a",{href:window.getNetworkElement("etherscanURL")+"address/"+window.stableFarming.options.address,target:"_blank"},"Contract"))))):undefined},renderDump:function(){var t=this;return React.createElement("section",null,this.renderPumpDumpBanner(),React.createElement("section",{className:"UniBox"},React.createElement("section",{className:"UniTitle"},React.createElement("label",null,React.createElement("p",null,"Farm $ by Mint using"),React.createElement("select",{"data-target":"farm",onChange:this.onPairChange},this.state&&this.state.pairs&&this.state.pairs.map(function(e){if(e.disabled||!e.token0.pairWithStable||!e.token1.pairWithStable)return;return React.createElement("option",{key:e.name,value:e.index},e.name)})))),React.createElement("section",{className:"UniTierQuantity"},React.createElement("label",{className:"UniActiveQuantityTier"},React.createElement("input",{"data-token":"farm0",onKeyUp:this.onType}),React.createElement("img",{src:this.state.selectedFarmPair.token0.logo}),React.createElement("p",null,this.state.selectedFarmPair.token0.symbol),window.walletAddress&&React.createElement("h6",null,React.createElement("a",{href:"javascript:;","data-token":"farm0",onClick:this.max},"Max")," Balance: ",window.fromDecimals(this.state.selectedFarmPair.token0.balance,this.state.selectedFarmPair.token0.decimals)," ",this.state.selectedFarmPair.token0.symbol)),React.createElement("h5",null,"And"),React.createElement("label",{className:"UniDisactiveQuantityTier"},React.createElement("input",{"data-token":"farm1",onKeyUp:this.onType}),React.createElement("img",{src:this.state.selectedFarmPair.token1.logo}),React.createElement("p",null,this.state.selectedFarmPair.token1.symbol),window.walletAddress&&React.createElement("h6",null,React.createElement("a",{href:"javascript:;","data-token":"farm1",onClick:this.max},"Max")," Balance: ",window.fromDecimals(this.state.selectedFarmPair.token1.balance,this.state.selectedFarmPair.token1.decimals)," ",this.state.selectedFarmPair.token1.symbol)),React.createElement("h2",null,"for ",React.createElement("b",{ref:function(n){return t.farmStableCoinOutput=n}},"0"),"¬†",window.stableCoin.symbol))),React.createElement("section",{className:"UniSideBox"},React.createElement("h2",null,"Then Swap ",React.createElement("b",{ref:function(n){return t.farmStableCoinSwap=n}},"0"),"¬†",window.stableCoin.symbol),React.createElement("input",{ref:function(n){return t.farmDumpRange=n},type:"range",min:"0",max:"0",step:"0.5",onChange:this.onFarmDumpSliderChange}),React.createElement("a",{className:"SideFarmMaxBTN",href:"javascript:;",onClick:this.farmDumpRangeMax},"Max"),React.createElement("br",null),React.createElement("h2",null,"for"),React.createElement("select",{className:"FARMSPECSELECT",ref:function(n){return t.dumpPairSelection=n},onChange:this.onDumpPairChange},React.createElement("option",{value:"0"},this.state.selectedFarmPair.token0.symbol),React.createElement("option",{value:"1"},this.state.selectedFarmPair.token1.symbol)),!1,this.state.farmDumpPay&&React.createElement("label",{className:"UniActiveQuantityTier"},React.createElement("h6",null,"You will pay:"),"$ ",this.state.farmDumpPay),React.createElement("label",{className:"UniActiveQuantityTier"},React.createElement("h6",null,"You will receive:"),this.state.dumpFinalStable&&this.state.dumpFinalStable!=="0"&&React.createElement("span",null,this.state.dumpFinalStable," ",window.stableCoin.symbol),React.createElement("br",null),this.state.selectedFarmPairTokenPrice&&React.createElement("span",null,window.fromDecimals(this.state.selectedFarmPairTokenPrice,this.state.selectedFarmPairToken.decimals)," ",this.state.selectedFarmPairToken.symbol)),this.state.farmDumpDifference&&React.createElement("label",{className:"UniActiveQuantityTier "+(this.state.farmDumpDifference.indexOf("-")===-1?"WOOOOOOOOOOOOW":"NOOOOOOOOOOOOO")},React.createElement("h6",{className:this.state.farmDumpDifference.indexOf("-")===-1?"WOOOOOOOOOOOOW":"NOOOOOOOOOOOOO"},"Arbitrage Earns:"),React.createElement("b",null,"$ ",this.state.farmDumpDifference)),React.createElement("label",{className:"UniActiveQuantityTier"},window.walletAddress&&(!this.state.farmToken0Approved||this.state.farmToken1Approved)&&this.state.approving!=="farm0"&&this.state.approving!=="farm1"&&React.createElement("a",{href:"javascript:;",onClick:this.approve,"data-token":"farm0",className:this.state.farmToken0Approved?"approveBTN Disabled":"approveBTN"},"Approve ",this.state.selectedFarmPair.token0.symbol),window.walletAddress&&this.state.farmToken0Approved&&!this.state.farmToken1Approved&&this.state.approving!=="farm0"&&this.state.approving!=="farm1"&&React.createElement("a",{className:"approveBTN",href:"javascript:;",onClick:this.approve,"data-token":"farm1"},"Approve ",this.state.selectedFarmPair.token1.symbol),(this.state.approving==="farm0"||this.state.approving==="farm1")&&React.createElement(Loader,{loaderClass:"loaderMini",loaderImg:window.resolveImageURL("loader4","gif")}),window.walletAddress&&this.state.performing!=="EarnByDump"&&React.createElement("a",{href:"javascript:;","data-action":"EarnByDump",onClick:this.doAction,className:!this.state.farmToken0Approved||!this.state.farmToken1Approved?"StableITBTN Disabled":"StableITBTN"},"GO"),this.state.performing==="EarnByDump"&&React.createElement(Loader,{loaderClass:"loaderMini",loaderImg:window.resolveImageURL("loader3","gif")}))))},renderPump:function(){return this.state.selectedTokenInPairs?React.createElement("section",null,this.renderPumpDumpBanner(),React.createElement("section",{className:"UniBox"},React.createElement("section",{className:"UniTierQuantity"},React.createElement("p",null,"Farm $ by swapping uSD from"),React.createElement("select",{className:"FARMSPECSELECT",onChange:this.onTokenInPairsChange},this.state&&this.state.tokensInPairs&&Object.values(this.state.tokensInPairs).map(function(e){return React.createElement("option",{key:e.address,value:e.address},e.symbol)})),React.createElement("br",null),this.state&&this.state.selectedTokenInPairs&&React.createElement("label",{className:"UniDisactiveQuantityTier"},React.createElement("input",{"data-token":"selectedTokenInPairs",onKeyUp:this.onType}),React.createElement("img",{src:this.state.selectedTokenInPairs.logo}),React.createElement("p",null,this.state.selectedTokenInPairs.symbol),window.walletAddress&&React.createElement("h6",null,React.createElement("a",{href:"javascript:;","data-token":"selectedTokenInPairs",onClick:this.max},"Max")," Balance: ",window.fromDecimals(this.state.selectedTokenInPairs.balance,this.state.selectedTokenInPairs.decimals)," ",this.state.selectedTokenInPairs.symbol)),React.createElement("br",null),React.createElement("label",null,React.createElement("p",{className:"BOHBOH"},"Value in $: ",this.state&&this.state.earnByPumpData&&window.formatMoney(this.state.earnByPumpData.inputInDollars),". Swap it for ",this.state&&this.state.earnByPumpData&&window.fromDecimals(this.state.earnByPumpData.output,window.stableCoin.decimals)||"0"," ",window.stableCoin.symbol,", then burn the diff to"),React.createElement("br",null),React.createElement("select",{className:"FARMSPECSELECT","data-target":"farm",onChange:this.onPairChange},this.state&&this.state.pairs&&this.state.pairs.map(function(e){if(e.disabled)return;return React.createElement("option",{key:e.name,value:e.index},e.name)}))))),React.createElement("section",{className:"UniSideBox"},React.createElement("h2",null,"result"),React.createElement("label",{className:"UniActiveQuantityTier"},React.createElement("span",null,this.state&&this.state.earnByPumpData&&this.state.earnByPumpData.inputInDollars&&window.formatMoney(this.state.earnByPumpData.inputInDollars)||"0.00"),React.createElement("img",{src:window.stableCoin.logo}),React.createElement("p",null,window.stableCoin.symbol)),this.state&&this.state.selectedFarmPair&&React.createElement("label",{className:"UniActiveQuantityTier"},React.createElement("span",null,this.state&&this.state.earnByPumpData&&window.fromDecimals(this.state.earnByPumpData.token0Value,this.state.selectedFarmPair.token0.decimals)||"0.00"),React.createElement("img",{src:this.state.selectedFarmPair.token0.logo}),React.createElement("p",null,this.state.selectedFarmPair.token0.symbol)),React.createElement("h5",null,"And"),this.state&&this.state.selectedFarmPair&&React.createElement("label",{className:"UniDisactiveQuantityTier"},React.createElement("span",null,this.state&&this.state.earnByPumpData&&window.fromDecimals(this.state.earnByPumpData.token1Value,this.state.selectedFarmPair.token1.decimals)||"0.00"),React.createElement("img",{src:this.state.selectedFarmPair.token1.logo}),React.createElement("p",null,this.state.selectedFarmPair.token1.symbol)),this.state.earnByPumpData&&this.state.earnByPumpData.farmPumpDifference&&React.createElement("label",{className:"UniActiveQuantityTier "+(this.state.earnByPumpData.farmPumpDifference.indexOf("-")===-1?"WOOOOOOOOOOOOW":"NOOOOOOOOOOOOO")},React.createElement("h6",{className:this.state.earnByPumpData.farmPumpDifference.indexOf("-")===-1?"WOOOOOOOOOOOOW":"NOOOOOOOOOOOOO"},"Arbitrage Earns:"),React.createElement("b",null,"$ ",this.state.earnByPumpData.farmPumpDifference)),React.createElement("label",{className:"UniActiveQuantityTier"},window.walletAddress&&this.state.approving!=="selectedTokenInPairs"&&React.createElement("a",{href:"javascript:;",onClick:this.approve,"data-token":"selectedTokenInPairs",className:"approveBTN"+(this.state.selectedTokenInPairsApproved?" Disabled":"")},"Approve ",this.state.selectedTokenInPairs.symbol),this.state&&this.state.approving==="selectedTokenInPairs"&&React.createElement(Loader,{loaderClass:"loaderMini",loaderImg:window.resolveImageURL("loader4","gif")}),window.walletAddress&&this.state.performing!=="EarnByPump"&&React.createElement("a",{href:"javascript:;","data-action":"EarnByPump",onClick:this.doAction,className:"StableITBTN"+(this.state.selectedTokenInPairsApproved?"":" Disabled")},"GO"),this.state&&this.state.performing==="EarnByPump"&&React.createElement(Loader,{loaderClass:"loaderMini",loaderImg:window.resolveImageURL("loader3","gif")})))):[React.createElement("br",null),React.createElement(Loader,{loaderClass:"loaderRegular",loaderImg:window.resolveImageURL("loader3","gif")})]},render:function(){var t=this;return React.createElement("section",{className:"unifiDapp"},React.createElement(DappMenu,null),React.createElement("section",{className:"CallToGrim"},React.createElement("section",null,React.createElement("a",{href:"javascript:;",onClick:this.toggleGrimoire},this.state&&this.state.grimoire&&React.createElement("img",{src:"assets/img/m0.png"}),(!this.state||!this.state.grimoire)&&React.createElement("img",{src:"assets/img/m0.png"})))),window.stableCoin&&window.stableCoin.name&&window.stableCoin.symbol&&React.createElement("section",{className:"StableCoinTitle"},React.createElement("section",{className:"StableCoinTitleIntern"},React.createElement("img",{src:"assets/img/m4.png"}),React.createElement("article",null,React.createElement("h2",null,window.stableCoin.name.firstLetterToUpperCase()),React.createElement("h6",null,React.createElement("b",null,window.stableCoin.symbol," is a Stable Coin based on Uniswap Liquidity Pools"),React.createElement("br",null),"Here, you can mint ",window.stableCoin.symbol," by adding liquidity to whitelisted Uniswap Stable Coin Pools or redeem anytime whitelisted Stable Coins by burning ",window.stableCoin.symbol,". | ",React.createElement("a",{href:window.getNetworkElement("etherscanURL")+"token/"+window.stableCoin.address,target:"_blank"},"Etherscan")," ",React.createElement("a",{href:"https://uniswap.info/token/"+window.stableCoin.address,target:"_blank"},"Uniswap"))))),!1,this.state&&this.state.connectionUnavailable&&React.createElement("section",null,React.createElement("h2",null,"You need to connect your wallet to proceed.")),(!this.state||!this.state.selectedPair&&!this.state.connectionUnavailable)&&React.createElement(Loader,{loaderClass:"loaderRegular",loaderImg:window.resolveImageURL("loader3","gif")}),this.state&&this.state.selectedPair&&React.createElement("section",{className:"UniBox"},React.createElement("section",{className:"UniTitle"},React.createElement("label",null,React.createElement("select",{ref:function(n){return t.actionSelect=n},onChange:this.onActionChange},!this.oldStableCoin&&React.createElement("option",{value:"Mint"},"Mint"),React.createElement("option",{value:"Burn"},"Burn")),React.createElement("img",{className:"UniStableManage",src:window.stableCoin.logo}),React.createElement("p",null,React.createElement("b",null,window.stableCoin.symbol))),React.createElement("label",null,React.createElement("p",null," by"),React.createElement("select",{"data-target":"classic",onChange:this.onPairChange},this.state&&this.state.pairs&&this.state.pairs.map(function(e){if(e.disabled)return;return React.createElement("option",{key:e.name,value:e.index},e.name)})))),this.actionSelect&&this["render"+this.actionSelect.value]()),this.state&&this.state.selectedPair&&React.createElement("section",{className:"UniSideBox"},this.state&&this.state.priceInDollars&&React.createElement("section",{className:"SideStandard"},React.createElement("h4",null,"1 ",window.stableCoin.symbol,": ",React.createElement("b",null,"$",window.formatMoney(this.state.priceInDollars,2)))),this.state&&this.state.totalSupply&&React.createElement("section",{className:"SideStandard"},React.createElement("h5",null,"Supply:"),React.createElement("h6",null,window.fromDecimals(this.state.totalSupply,window.stableCoin.decimals)," ",window.stableCoin.symbol)),this.state&&this.state.totalCoins&&React.createElement("section",{className:"SideStandard"},React.createElement("h5",null,"Collateral:"),React.createElement("h6",null,React.createElement("a",{href:"javascript:;",onClick:this.toggleTotalCoins},window.fromDecimals(this.state.totalCoins.balanceOf,window.stableCoin.decimals)," S.C.")),this.state.toggleTotalCoins&&React.createElement("ul",{className:"SideStableList"},Object.values(this.state.totalCoins.list).map(function(e){return React.createElement("li",{key:e.address},React.createElement("section",null,React.createElement("span",null,window.fromDecimals(e.balanceOf,window.stableCoin.decimals)),"¬†",React.createElement("span",null,e.symbol)))}))),this.renderAvailableToMint(),this.state&&this.state.totalCoins&&React.createElement("section",{className:"SideStandard"},React.createElement("h4",null,"Health:"),React.createElement("section",{className:"SideHealthHelp"},React.createElement("section",{className:"SideHealth"},React.createElement("aside",{style:{width:this.state.totalCoins.healthPercentage+"%"}},React.createElement("span",null,this.state.totalCoins.regularPercentage,"%"))))),window.walletAddress&&this.state&&this.state.pairs&&this.state.totalCoins&&this.state.differences&&(parseInt(this.state.totalCoins.regularPercentage)>103||parseInt(this.state.totalCoins.regularPercentage)<97)&&React.createElement("section",{className:"SideDiff"},React.createElement("h4",null,"Rebalance"),parseInt(this.state.totalCoins.regularPercentage)>103&&React.createElement("section",{className:"SideRebelanceBro SideCredit"},React.createElement("label",null,React.createElement("h5",null,"DFO Credit:"),React.createElement("h6",null,React.createElement("b",null,window.fromDecimals(this.state.differences[0],window.stableCoin.decimals)," ",window.stableCoin.symbol))),window.walletAddress&&React.createElement("section",null,React.createElement("a",{href:"javascript:;",onClick:this.controller.rebalanceByCredit,className:"StableITBTN"},"Rebalance"))),parseInt(this.state.totalCoins.regularPercentage)<85&&React.createElement("section",{className:"SideRebelanceBro SideDebit"},React.createElement("label",null,React.createElement("h5",null,"DFO Debt:"),React.createElement("h6",null,React.createElement("b",null,window.fromDecimals(this.state.differences[1],window.stableCoin.decimals)," ",window.stableCoin.symbol))),window.walletAddress&&React.createElement("section",{className:"RebalanceEmergency"},React.createElement("label",null,React.createElement("span",null,"üî•"),React.createElement("input",{onChange:this.rebalanceByDebtInputChange,ref:function(n){return t.rebalanceByDebtInput=n}}),React.createElement("span",null,window.stableCoin.symbol)),React.createElement("section",{className:"RebalanceEmergencyRew"},React.createElement("span",null,"Reward: "),React.createElement("span",{ref:function(n){return t.debtReward=n}}),React.createElement("span",null," ",window.dfo.symbol)),React.createElement("a",{href:"javascript:;",onClick:this.rebalanceByDebt,className:"StableITBTN"},"Rebalance")))),React.createElement("p",{className:"Disclamerone"},"This protocol is built using a ",React.createElement("a",{target:"_blank",href:"https://github.com/b-u-i-d-l/responsible-defi"},"Responsible DeFi")," approach. But it's new, so use it at your own risk and remember, in Ethereum transactions are irreversible.")),this.state&&this.state.priceInDollars&&this.state.priceInDollars>window.context.farmingShowRuleDump&&this.state.selectedPair&&this.renderDump(),this.state&&this.state.priceInDollars&&this.state.priceInDollars<window.context.farmingShowRulePump&&this.state.selectedPair&&this.renderPump(),this.state&&this.state.grimoire&&React.createElement(GrimuSD,null))}});var SwapBazarController=function(t){var n=this;n.view=t,n.oldDfoDeployedEvent="DFODeployed(address_indexed,address)",n.dfoDeployedEvent="DFODeployed(address_indexed,address_indexed,address,address)",n.proxyChangedEvent="ProxyChanged(address)",n.blockSearchSize=4e4,n.dfoDeployedEvent="DFODeployed(address_indexed,address)",n.newDfoDeployedEvent="DFODeployed(address_indexed,address_indexed,address,address)",n.loadData=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.view.setState({connectionUnavailable:null}),r.prev=1,r.next=4,window.loadEthereumStuff();case 4:r.next=9;break;case 6:return r.prev=6,r.t0=r["catch"](1),r.abrupt("return",n.view.setState({connectionUnavailable:!0,tokensList:null}));case 9:return n.view.setState({inputToken:null,outputToken:null,inputPrice:null,outputPrice:null,uniswap:null}),r.prev=10,r.next=13,window.AJAXRequest(window.context.programmableEquitiesURL);case 13:return r.t1=function(e){return e.chainId===window.networkId&&e},r.t2=r.sent.tokens.map(r.t1),r.next=17,window.AJAXRequest(window.context.itemsListURL);case 17:return r.t3=function(e){return e.chainId===window.networkId&&e},r.t4=r.sent.tokens.map(r.t3),r.next=21,window.AJAXRequest(window.context.uniswapTokensURL);case 21:return r.t5=function(e){return e.chainId===window.networkId&&e},r.t6=r.sent.tokens.map(r.t5),r.next=25,window.AJAXRequest(window.context.indexesURL);case 25:r.t7=function(e){return e.chainId===window.networkId&&e},r.t8=r.sent.tokens.map(r.t7),e={"Prog. Equities":r.t2,Items:r.t4,Tokens:r.t6,Indexes:r.t8},e.Items.forEach(function(e){return e.symbol=e.name}),n.view.setState({tokensList:e}),r.next=36;break;case 32:return r.prev=32,r.t9=r["catch"](10),r.next=36,n.loadDataOnChain();case 36:n.loadLogos(),n.readAddressBarParams();case 38:case"end":return r.stop()}},r,this,[[1,6],[10,32]])}));return t}(),n.loadLogos=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o,u,a,f,l,c;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!!n.view.state&&!!n.view.state.tokensList){h.next=2;break}return h.abrupt("return");case 2:e=n.view.state.tokensList,t=Object.keys(e),i=t,s=Array.isArray(i),o=0,i=s?i:i[Symbol.iterator]();case 5:if(!s){h.next=11;break}if(!(o>=i.length)){h.next=8;break}return h.abrupt("break",42);case 8:u=i[o++],h.next=15;break;case 11:o=i.next();if(!o.done){h.next=14;break}return h.abrupt("break",42);case 14:u=o.value;case 15:a=u;if(a!=="Indexes"){h.next=18;break}return h.abrupt("continue",40);case 18:f=e[a],l=0;case 20:if(!(l<f.length)){h.next=40;break}c=e[a][l];if(c!==!0&&c!==!1){h.next=24;break}return h.abrupt("continue",37);case 24:return c.logoURI=c.logoURI||window.context.trustwalletImgURLTemplate.format(window.web3.utils.toChecksumAddress(c.address)),h.prev=25,h.next=28,window.AJAXRequest(c.logoURI);case 28:if(n.view.mounted){h.next=30;break}return h.abrupt("return");case 30:h.next=35;break;case 32:h.prev=32,h.t0=h["catch"](25),c.logoURI="assets/img/default-logo.png";case 35:e[a][l]=c,n.view.setState({tokensList:e});case 37:l++,h.next=20;break;case 40:h.next=5;break;case 42:case"end":return h.stop()}},r,this,[[25,32]])}));return t}(),n.readAddressBarParams=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=window.addressBarParams.inputCurrency,t=window.addressBarParams.outputCurrency,i=window.addressBarParams.action,delete window.addressBarParams.token0,delete window.addressBarParams.token1,delete window.addressBarParams.action;if(!!e||!!t){u.next=8;break}return u.abrupt("return");case 8:return e&&(e=window.web3.utils.toChecksumAddress(e)),t&&(t=window.web3.utils.toChecksumAddress(t)),t===e&&(t=undefined),i=t?i:undefined,s=function(t){if(!t)return;var r=Object.keys(n.view.state.tokensList);for(var i=r,s=Array.isArray(i),o=0,i=s?i:i[Symbol.iterator]();;){var u;if(s){if(o>=i.length)break;u=i[o++]}else{o=i.next();if(o.done)break;u=o.value}var a=u,f=n.view.state.tokensList[a];for(var l=0;l<f.length;l++)if(window.web3.utils.toChecksumAddress(f[l].address)===t)return{key:a,selected:l,token:f[l]}}},o=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,o,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return");case 2:i=s(t);if(i){a.next=5;break}return a.abrupt("return");case 5:return o=e+"Price",e+="Token",u={},u[e]=i.token,a.next=11,n.calculatePriceInDollars(u[e]);case 11:u[o]=a.sent,delete i.token,n.view.setState(u,function(){n.view[e]&&n.view[e].setState(i)});case 14:case"end":return a.stop()}},r,this)}));return t}(),u.next=16,o("input",e);case 16:return u.next=18,o("output",t);case 18:i&&n.view.setState({uniswap:i});case 19:case"end":return u.stop()}},r,this)}));return t}(),n.loadDataOnChain=function(){function t(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,i,s,o,u,a,f,l,c,h,p,d,v;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,window.loadDFO(window.getNetworkElement("dfoAddress"));case 2:return e=m.sent,n.dfoHubAddresses=e.options.allAddresses,m.t0=window,m.next=7,window.blockchainCall(e.methods.getToken);case 7:return m.t1=m.sent,m.t2=undefined,m.next=11,m.t0.loadTokenInfos.call(m.t0,m.t1,m.t2,!0);case 11:return m.t3=m.sent,m.t4={key:"dfoHub",token:m.t3},n.list={dfoHub:m.t4},n.alreadyLoaded={},m.next=17,n.loadEvents();case 17:return delete n.alreadyLoaded,n.view.setState({tokensList:null}),t=Object.values(n.list).map(function(e){return e.token}),m.next=22,n.loadUniswapTokens(t);case 22:i=m.sent,s={},o=i,u=Array.isArray(o),a=0,o=u?o:o[Symbol.iterator]();case 25:if(!u){m.next=31;break}if(!(a>=o.length)){m.next=28;break}return m.abrupt("break",40);case 28:f=o[a++],m.next=35;break;case 31:a=o.next();if(!a.done){m.next=34;break}return m.abrupt("break",40);case 34:f=a.value;case 35:return l=f,m.next=38,window.loadUniswapPairs(l,s);case 38:m.next=25;break;case 40:c=t,h=Array.isArray(c),p=0,c=h?c:c[Symbol.iterator]();case 41:if(!h){m.next=47;break}if(!(p>=c.length)){m.next=44;break}return m.abrupt("break",56);case 44:d=c[p++],m.next=51;break;case 47:p=c.next();if(!p.done){m.next=50;break}return m.abrupt("break",56);case 50:d=p.value;case 51:return l=d,m.next=54,window.loadUniswapPairs(l,s);case 54:m.next=41;break;case 56:return m.next=58,n.recursiveLoadPair(s);case 58:v={"Prog. Equities":t,Tokens:i,Indexes:Object.values(s)},n.view.setState({tokensList:v});case 60:case"end":return m.stop()}},r,this)}));return t}(),n.recursiveLoadPair=function(){function t(t,n){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t){var i,s,o,u,a,f;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:t=t||e;if(Object.keys(t).length!==0){l.next=3;break}return l.abrupt("return");case 3:i={},s=Object.values(t),o=Array.isArray(s),u=0,s=o?s:s[Symbol.iterator]();case 5:if(!o){l.next=11;break}if(!(u>=s.length)){l.next=8;break}return l.abrupt("break",20);case 8:a=s[u++],l.next=15;break;case 11:u=s.next();if(!u.done){l.next=14;break}return l.abrupt("break",20);case 14:a=u.value;case 15:return f=a,l.next=18,window.loadUniswapPairs(f.address,i);case 18:l.next=5;break;case 20:return Object.entries(i).forEach(function(t){return e[t[0]]=t[1]}),l.next=23,n.recursiveLoadPair(e,i);case 23:case"end":return l.stop()}},r,this)}));return t}(),n.loadUniswapTokens=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e){var t,r,i,s,o,u,a;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return e=e||[],t=[],f.next=4,window.AJAXRequest(window.context.uniwsapOfficialTokensList);case 4:r=f.sent.tokens,i=r,s=Array.isArray(i),o=0,i=s?i:i[Symbol.iterator]();case 6:if(!s){f.next=12;break}if(!(o>=i.length)){f.next=9;break}return f.abrupt("break",22);case 9:u=i[o++],f.next=16;break;case 12:o=i.next();if(!o.done){f.next=15;break}return f.abrupt("break",22);case 15:u=o.value;case 16:a=u;if(window.networkId===a.chainId){f.next=19;break}return f.abrupt("continue",20);case 19:t.push({key:window.web3.utils.toChecksumAddress(a.address),address:window.web3.utils.toChecksumAddress(a.address),name:a.name,symbol:a.symbol,decimals:window.numberToString(a.decimals),logo:a.icon});case 20:f.next=6;break;case 22:return f.abrupt("return",t);case 23:case"end":return f.stop()}},n,this)}));return t}(),n.contains=function(t,n){for(var r=t,i=Array.isArray(r),s=0,r=i?r:r[Symbol.iterator]();;){var o;if(i){if(s>=r.length)break;o=r[s++]}else{s=r.next();if(s.done)break;o=s.value}var u=o;if(window.web3.utils.toChecksumAddress(u.address)===window.web3.utils.toChecksumAddress(n))return!0}return!1},n.loadEvents=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i){var s,o,u,a;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(t!==window.getNetworkElement("deploySearchStart")){f.next=2;break}return f.abrupt("return");case 2:f.t0=i;if(f.t0){f.next=7;break}return f.next=6,web3.eth.getBlockNumber();case 6:f.t0=f.sent;case 7:return i=f.t0,t=t||i,s=t-n.blockSearchSize,o=window.getNetworkElement("deploySearchStart"),s=s>o?o:t,f.next=14,n.getLogs(s,t,n.newDfoDeployedEvent);case 14:return u=f.sent,f.next=17,n.getLogs(s,t,n.dfoDeployedEvent);case 17:a=f.sent,(u.length>0||a.length>0)&&setTimeout(function(){try{n.view.forceUpdate()}catch(e){}}),setTimeout(function(){return n.loadEvents(e,s,i)});case 20:case"end":return f.stop()}},r,this)}));return t}(),n.getLogs=function(){function t(t,n,r){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function r(e,t,i){var s,o,u,a,f,l,c,h;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,window.getDFOLogs({address:n.dfoHubAddresses,event:i,fromBlock:""+e,toBlock:""+t});case 2:s=p.sent,o=s,u=Array.isArray(o),a=0,o=u?o:o[Symbol.iterator]();case 4:if(!u){p.next=10;break}if(!(a>=o.length)){p.next=7;break}return p.abrupt("break",37);case 7:f=o[a++],p.next=14;break;case 10:a=o.next();if(!a.done){p.next=13;break}return p.abrupt("break",37);case 13:f=a.value;case 14:l=f;if(!n.alreadyLoaded[l.data[0].toLowerCase()]){p.next=17;break}return p.abrupt("continue",35);case 17:return n.alreadyLoaded[l.data[0].toLowerCase()]=!0,c=l.blockNumber+"_"+l.id,p.next=21,window.loadDFO(l.data[0]);case 21:h=p.sent,p.t0=!n.list[c];if(!p.t0){p.next=35;break}return p.t1=c,p.t2=l.blockNumber,p.t3=window,p.next=29,window.blockchainCall(h.methods.getToken);case 29:return p.t4=p.sent,p.t5=undefined,p.next=33,p.t3.loadTokenInfos.call(p.t3,p.t4,p.t5,!0);case 33:p.t6=p.sent,n.list[c]={key:p.t1,startBlock:p.t2,token:p.t6};case 35:p.next=4;break;case 37:return p.abrupt("return",s);case 38:case"end":return p.stop()}},r,this)}));return t}(),n.getLatestSearchBlock=function(){return n.list&&Object.keys(n.list).length>0&&Math.max.apply(Math,Object.keys(n.list).map(function(e){return parseInt(e.split("_")[0])}))||window.getNetworkElement("deploySearchStart")},n.calculatePriceInDollars=function(){function t(t){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function n(e){var t,r,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,window.getEthereumPrice();case 2:return t=s.sent,s.prev=3,s.t0=window,s.next=7,window.blockchainCall(window.uniswapV2Router.methods.getAmountsOut,window.toDecimals("1",e.decimals),[e.address,window.wethAddress]);case 7:return s.t1=s.sent[1],r=s.t0.fromDecimals.call(s.t0,s.t1,18,!0),r=parseFloat(r)*t,r=window.numberToString(r),i=window.formatMoney(r,4),s.abrupt("return",i==="0"?r:i);case 15:return s.prev=15,s.t2=s["catch"](3),s.abrupt("return","notFound");case 18:case"end":return s.stop()}},n,this,[[3,15]])}));return t}()};var UniswapTokenPicker=React.createClass({displayName:"UniswapTokenPicker",getDefaultSubscriptions:function(){var t=this;return{"ethereum/update":function(){return t.setState({key:null,selected:null})}}},onSectionChange:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=t.currentTarget.dataset.key,r=this;this.setState({key:n,selected:null},function(){r.props.onChange&&setTimeout(function(){return r.props.onChange(null)})})},close:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.setState({opened:null})},open:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this,r=t.currentTarget;this.setState({opened:!0},function(){n.opened&&(n.opened.onblur=n.opened.onblur||function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),t.relatedTarget&&t.relatedTarget!==r&&t.relatedTarget.click(),t.relatedTarget&&t.relatedTarget!==r&&n.opened&&n.opened.focus(),(!t.relatedTarget||t.relatedTarget!==r&&!t.relatedTarget.dataset.key)&&n.setState({opened:null})})&&n.opened.focus()})},onClick:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);var n=this;this.setState({opened:null,key:this.getKey(),selected:parseInt(t.currentTarget.dataset.index)},function(){n.props.onChange&&setTimeout(function(){return n.props.onChange(n.props.tokensList[n.state.key][n.state.selected])})})},getKey:function(){var t=null;try{t=this.state&&this.state.key||Object.keys(this.props.tokensList)[0]}catch(n){}return t},renderOpened:function(){var t=this,n=this,r=this.getKey();return React.createElement("section",{className:"BazSelectorContainer",tabIndex:"-1",ref:function(n){return t.opened=n}},React.createElement("section",{className:"BazSelectorContainerClose"},React.createElement("a",{href:"javascript:;",onClick:this.close},"X")),React.createElement("section",{className:"BazSelectorContainerMenu"},React.createElement("section",{className:"BazSelectorContainerMenuintern"},this.props.tokensList&&Object.keys(this.props.tokensList).map(function(e){return React.createElement("li",{key:e,className:r===e?"Selected":undefined},React.createElement("a",{href:"javascript;","data-key":e,onClick:n.onSectionChange},e))}))),r&&React.createElement("section",{className:"BazSelectorContainerObjects"},this.props.tokensList[r].map(function(e,n){if(!e)return;return React.createElement("li",{key:e.address,className:t.state.selected===n?"Selected":undefined},t.renderInput(e,t.onClick,n))})))},renderInput:function(t,n,r){var i=this.getKey();return React.createElement("a",{href:"javascript;","data-index":r,onClick:n},i!=="Indexes"&&React.createElement("img",{src:t.logo||t.logoURI||window.context.trustwalletImgURLTemplate.format(t.address)}),React.createElement("p",null,t.symbol))},renderClosed:function(){var t=undefined;try{t=this.props.tokensList[this.state.key][this.state.selected]}catch(n){}return React.createElement("section",null,t&&this.renderInput(t,this.open),!t&&React.createElement("a",{href:"javascript:;",onClick:this.open},"Select"))},render:function(){return React.createElement("section",{className:"BazTokenSelector"},this.state&&this.state.opened&&this.renderOpened(),this.state&&this.state.opened&&React.createElement("section",{className:"Boh"}),(!this.state||!this.state.opened)&&this.renderClosed())}});var SwapBazar=React.createClass({displayName:"SwapBazar",requiredScripts:["spa/loader.jsx","spa/swapBazar/uniswapTokenPicker.jsx","spa/grimoire/grimBazar.jsx"],getDefaultSubscriptions:function(){return{"ethereum/update":this.controller.loadData}},componentDidMount:function(){this.mounted=!0,this.controller.loadData()},componentWillUnmount:function(){delete this.mounted},openUniswap:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0);if(t.currentTarget.className.toLowerCase().indexOf("disabled")!==-1)return;var n=t.currentTarget.dataset.action,r=this;this.setState({uniswap:null},function(){r.setState({uniswap:n})})},closeUniswap:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.setState({uniswap:null})},onToken:function(t,n){var r=(n==="input"?"output":"input")+"Price",i=(n==="input"?"output":"input")+"Token",s=this.state&&this.state[i],o=n+"Price";n+="Token";var u={};u[n]=t,u[o]=null,t&&s&&s.address===t.address&&(u[i]=null,u[r]=null,this[i].setState({key:null,selected:null}));var a=this;this.setState(u,function(){(!a.state.inputToken||!a.state.outputToken)&&a.state.uniswap&&a.setState({uniswap:null});if(!t)return;a.controller.calculatePriceInDollars(t).then(function(e){var t={};t[o]=e,a.setState(t)})})},toggleGrimoire:function(t){t&&t.preventDefault&&t.preventDefault(!0)&&t.stopPropagation&&t.stopPropagation(!0),this.setState({grimoire:!this.state||!this.state.grimoire})},renderUniswapLink:function(){return window.context[this.state.uniswap==="swap"?"uniswapDappLinkTemplate":"uniswapDappLinkTemplatePool"].format(this.state.uniswap,this.state.inputToken.address,this.state.outputToken.address,window.localStorage.boomerMode==="true"?"light":"dark")},componentDidUpdate:function(){var t=this;t.state&&t.state.uniswap&&t.uniswapLoader&&setTimeout(function(){$(t.uniswapLoader).css("display","none")},2e3)},render:function(){var t=this;return React.createElement("section",{className:"unifiDapp"},React.createElement(DappMenu,null),React.createElement("section",{className:"CallToGrim"},React.createElement("section",null,React.createElement("a",{href:"javascript:;",onClick:this.toggleGrimoire},this.state&&this.state.grimoire&&React.createElement("img",{src:"assets/img/m0.png"}),(!this.state||!this.state.grimoire)&&React.createElement("img",{src:"assets/img/m0.png"})))),React.createElement("section",{className:"StableCoinTitle"},React.createElement("section",{className:"StableCoinTitleIntern"},React.createElement("img",{src:"assets/img/m1.png"}),React.createElement("article",null,React.createElement("h2",null,"The Bazar"),React.createElement("h6",null,React.createElement("b",null,"Ancient black magic is unleashing the true power of the Unicorn.")," Programmable Equities, Token Indexes and NFTs (including ERC 1155 NFTs, thanks to ethArt V2) can now be swapped, on the new Bazaar DEX.")))),this.state&&this.state.uniswap&&this.state.inputToken&&this.state.outputToken&&React.createElement("section",{className:"ArrivaUniswapQuelloVero"},React.createElement("a",{className:"SeneVaUniswap",href:"javascript:;",onClick:this.closeUniswap},"X"),React.createElement("iframe",{src:this.renderUniswapLink()}),React.createElement("section",{ref:function(n){return t.uniswapLoader=n},className:"ArrivaUniswap"},React.createElement("img",{src:"assets/img/loader2.gif"}))),this.state&&this.state.connectionUnavailable&&React.createElement("section",null,React.createElement("h2",null,"You need to connect your wallet to proceed.")),(!this.state||!this.state.tokensList&&!this.state.connectionUnavailable)&&React.createElement(Loader,null),this.state&&this.state.tokensList&&React.createElement("section",{className:"UniBox"},React.createElement("section",{className:"UniTitle"}),React.createElement("section",{className:"UniTierQuantity"},React.createElement("h5",null,"From"),React.createElement("label",{className:"UniActiveQuantityTier"},React.createElement(UniswapTokenPicker,{ref:function(n){return t.inputToken=n},tokensList:this.state.tokensList,onChange:function(n){return t.onToken(n,"input")}}),this.state&&this.state.inputPrice&&React.createElement("span",{className:"BazPrice"},this.state.inputPrice==="notFound"?"Price not found":"Price: $"+this.state.inputPrice)),React.createElement("h5",null,"To"),React.createElement("label",{className:"UniDisactiveQuantityTier"},React.createElement(UniswapTokenPicker,{ref:function(n){return t.outputToken=n},tokensList:this.state.tokensList,onChange:function(n){return t.onToken(n,"output")}}),this.state&&this.state.outputPrice&&React.createElement("span",{className:"BazPrice"},this.state.outputPrice==="notFound"?"Price not found":"Price: $"+this.state.outputPrice))),React.createElement("section",{className:"BazzActions"},React.createElement("a",{href:"javascript:;",onClick:this.openUniswap,"data-action":"swap",className:"StableITBTN"+(!this.state||!this.state.inputToken||!this.state.outputToken?"Disabled":"Active StableITBTN")},"Swap"),React.createElement("br",null),React.createElement("a",{href:"javascript:;",onClick:this.openUniswap,"data-action":"add",className:"StableITBTNF"+(!this.state||!this.state.inputToken||!this.state.outputToken?"Disabled":"Active StableITBTN")},"Add Liquidity"),React.createElement("a",{href:"javascript:;",onClick:this.openUniswap,"data-action":"remove",className:"StableITBTNF"+(!this.state||!this.state.inputToken||!this.state.outputToken?"Disabled":"Active StableITBTN")},"Remove Liquidity"),React.createElement("p",{className:"BazzPreDesc"+(!this.state||!this.state.inputToken||!this.state.outputToken?" ActiveDesc":"Disabled")},"Select Tiers to Swap or Manage Liquidity"))),this.state&&this.state.grimoire&&React.createElement(GrimBazar,null))}});!window.preloadedScripts && (window.preloadedScripts=[]);Array.prototype.push.apply(window.preloadedScripts,['spa/banner.jsx','spa/dappMenu/controller.jsx','spa/dappMenu/style.min.css','spa/dappMenu/view.jsx','spa/ethereumWalletProvider/controller.jsx','spa/ethereumWalletProvider/style.min.css','spa/ethereumWalletProvider/view.jsx','spa/explainer/controller.jsx','spa/explainer/style.min.css','spa/explainer/view.jsx','spa/grimoire/controller.jsx','spa/grimoire/grimBazar.jsx','spa/grimoire/grimUnifi.jsx','spa/grimoire/grimuSD.jsx','spa/grimoire/style.min.css','spa/grimoire/view.jsx','spa/index/controller.jsx','spa/index/style.min.css','spa/index/view.jsx','spa/loader.jsx','spa/stableCoin/controller.jsx','spa/stableCoin/style.min.css','spa/stableCoin/view.jsx','spa/swapBazar/controller.jsx','spa/swapBazar/style.min.css','spa/swapBazar/uniswapTokenPicker.jsx','spa/swapBazar/view.jsx']);